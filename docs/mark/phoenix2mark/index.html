<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  
  <meta name="description" content="Macaroni">
  <meta name="author" content="Geaaru">
  <meta name="generator" content="Hugo 0.110.0">
  
  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>From Phoenix to MARK</title>
  <link rel="icon" href="https://www.macaronios.org/images/favicon.ico">

  <!-- Twitter Bootstrs CSS -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/bootstrap/bootstrap.min.css">
  <!-- Ionicons Fonts Css -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/ionicons/ionicons.min.css">
  <!-- animate css -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/animate-css/animate.css">
  <!-- Hero area slider css-->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/slider/slider.css">
  <!-- slick slider -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/slick/slick.css">
  <!-- Fancybox -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/facncybox/jquery.fancybox.css">
  <!-- hover -->
  <link rel="stylesheet" href="https://www.macaronios.org/plugins/hover/hover-min.css">
  <!-- template main css file -->
  
  <link rel="stylesheet" href="https://www.macaronios.org/css/style.min.css" media="screen">
  
	<!-- Custom stylesheet - for your changes -->
	
  <link rel="stylesheet" href="https://www.macaronios.org/css/custom.min.css" media="screen">
  
</head><head>
  <meta name="generator" content="Hugo 0.110.0">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="Macaroni">
  <meta name="author" content="Geaaru">
  <meta name="generator" content="Hugo 0.110.0">

<!-- Mobile Specific Metas -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>From Phoenix to MARK</title>
<link rel="icon" href="https://www.macaronios.org/images/favicon.ico">

<!-- Twitter Bootstrs CSS -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/bootstrap/bootstrap.min.css">
<!-- Ionicons Fonts Css -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/ionicons/ionicons.min.css">
<!-- animate css -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/animate-css/animate.css">
<!-- Hero area slider css-->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/slider/slider.css">
<!-- slick slider -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/slick/slick.css">
<!-- Fancybox -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/facncybox/jquery.fancybox.css">
<!-- hover -->
<link rel="stylesheet" href="https://www.macaronios.org/plugins/hover/hover-min.css">
<!-- template main css file -->

<link rel="stylesheet" href="https://www.macaronios.org/css/style.min.css" media="screen">

  
<!-- Custom stylesheet - for your changes -->

<link rel="stylesheet" href="https://www.macaronios.org/css/custom.min.css" media="screen"><meta property="og:title" content="From Phoenix to MARK" />
<meta property="og:description" content="From Phoenix to MARK and return # The first thing to check before working with MARK from a Phoenix or Terragon rootfs is the subsets configured on anise:
$&gt; anise subsets list üç® Subsets enabled: * portage Portage metadata and files. * devel Includes and devel files. Needed for compilation. * desktop Excluding the desktop subset that is present only on Phoenix release, the mandatory subsets are portage and devel." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.macaronios.org/docs/mark/phoenix2mark/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="Macarani OS" />
<title>From Phoenix to MARK | Macaroni OS</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.1fa4b21f1061359ab29228c2f50810cb1387835c4b00cab20e445806bb35b02e.css" integrity="sha256-H6SyHxBhNZqykijC9QgQyxOHg1xLAMqyDkRYBrs1sC4=">
<script defer src="/en.search.min.75705f820fe10cae83469d776272b7906842cda2ee70ad06739b94a2c250668e.js" integrity="sha256-dXBfgg/hDK6DRp13YnK3kGhCzaLucK0Gc5uUosJQZo4="></script>

<script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head><section class="top-bar animated-header">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<nav class="navbar navbar-expand-lg navbar-light bg-light">
					<a class="navbar-brand" href="https://www.macaronios.org/">
						<img src="https://www.macaronios.org/images/logo.png" alt="Macaroni OS">
					</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
						aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="navigation">
						<ul class="navbar-nav ml-auto">
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/">Home</a>
							</li>
							
							
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/contact">Contacts</a>
							</li>
							
							
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/blog">Blog</a>
							</li>
							
							
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/iso/">Download</a>
							</li>
							
							
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/blog/phoenix-25.06/">Phoenix 25.06 Released!</a>
							</li>
							
							
							
							<li class="nav-item">
								<a class="nav-link"
									href="https://www.macaronios.org/docs">Documentation</a>
							</li>
							
							
						</ul>
					</div>
				</nav>
			</div>
		</div>
	</div>
</section><body dir="ltr">

  <div style="margin-top: 60px;">

  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>

<div class="book-search">
  <input type="text" id="book-search-input" placeholder="" aria-label="" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  <ul>
<li>
  <a href="/docs/"><strong>The Project</strong></a>
<ul>
<li>
  <a href="/docs/#macaroni-releases">Macaroni Releases</a></li>
</ul>
</li>
<li>
  <a href="/docs/mark/"><strong>M.A.R.K.</strong></a>
<ul>
<li>
  <a href="/docs/mark/#-portage">Portage</a></li>
<li>
  <a href="/docs/mark/#-stability-levels">Stability Levels</a></li>
<li>
  <a href="/docs/mark/sambuca-diff/">MARK vs Sambuca</a></li>
<li>
  <a href="/docs/mark/phoenix2mark/"class=active>From Phoenix to MARK</a>
<ul>
<li>
  <a href="/docs/mark/phoenix2mark/#using-anise-to-restore-system">Restore System</a></li>
</ul>
</li>
<li>
  <a href="/docs/mark/phoenix2mark/"class=active>Became a Contributor</a></li>
</ul>
</li>
<li>
  <a href="/docs/sambuca/"><strong>Sambuca Anise Stack</strong></a>
<ul>
<li>
  <a href="/docs/sambuca/#macaroni-os-phoenix">Phoenix</a></li>
<li>
  <a href="/docs/sambuca/#macaroni-os-eagle">Eagle</a></li>
<li>
  <a href="/docs/sambuca/#macaroni-os-terragon">Terragon</a></li>
<li>
  <a href="/docs/sambuca/#macaroni-repositories">Anise Repositories</a></li>
<li>
  <a href="/docs/sambuca/#macaroni-tags">Macaroni Tags</a></li>
</ul>
</li>
<li>
  <a href="/docs/story/"><strong>The Story</strong></a></li>
<li>
  <a href="/docs/getting-started/"><strong>Getting Started</strong></a>
<ul>
<li>
  <a href="/docs/getting-started/#install-macaroni-iso">Install Macaroni ISO</a></li>
<li>
  <a href="/docs/getting-started/#install-macaroni-lxd-containers">Install Macaroni LXD Containers</a></li>
<li>
  <a href="/docs/getting-started/#install-macaroni-incus-containers">Install Macaroni Incus Containers</a></li>
<li>
  <a href="/docs/getting-started/#install-macaroni-docker-containers">Install Macaroni Docker Containers</a></li>
<li>
  <a href="/docs/networking/">Networking</a></li>
</ul>
</li>
<li>
  <a href="/docs/pms/"><strong>Anise</strong></a>
<ul>
<li>
  <a href="/docs/pms/#1-repositories-or-wagons">Repositories or Wagons</a></li>
<li>
  <a href="/docs/pms/#2-subsets">Subsets</a></li>
<li>
  <a href="/docs/pms/#3-search-packages">Search Packages</a></li>
<li>
  <a href="/docs/pms/#4-install-packages">Install Packages</a></li>
<li>
  <a href="/docs/pms/#6-uninstall-packages">Uninstall Packages</a></li>
<li>
  <a href="/docs/pms/#7-upgrade-the-system">Upgrade System</a></li>
<li>
  <a href="/docs/pms/#91-show-files-owned-by-a-specific-package">Show files owned by a specific package</a></li>
<li>
  <a href="/docs/pms/#92-resolve-what-package-a-file-belongs-to">Resolve what package a file belongs to</a></li>
<li>
  <a href="/docs/pms/#93-show-orphans-packages">Show orphans Packages</a></li>
<li>
  <a href="/docs/pms/#10-local-database-operations">Local Database Operations</a></li>
<li>
  <a href="/docs/pms/#11-masking-packages">Masking Packages</a>
<br /></li>
</ul>
</li>
</ul>
<br />






  
<ul>
  
  <li>
    <a href="/blog/" >
        Blog
      </a>
  </li>
  
  <li>
    <a href="https://github.com/macaroni-os" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page" >
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>From Phoenix to MARK</strong>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown"><h1 id="from-phoenix-to-mark-and-return">
  From Phoenix to MARK and return
  <a class="anchor" href="#from-phoenix-to-mark-and-return">#</a>
</h1>
<p>The first thing to check before working with MARK from a Phoenix or Terragon rootfs
is the <em>subsets</em> configured on <code>anise</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise subsets list
</span></span><span style="display:flex;"><span>üç® Subsets enabled:
</span></span><span style="display:flex;"><span> * portage
</span></span><span style="display:flex;"><span>   Portage metadata and files.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * devel
</span></span><span style="display:flex;"><span>   Includes and devel files. Needed <span style="color:#66d9ef">for</span> compilation.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * desktop
</span></span></code></pre></div><p>Excluding the <em>desktop</em> subset that is present only on Phoenix release,
the mandatory subsets are <em>portage</em> and <em>devel</em>. If this subsets are not
present, then it&rsquo;s needed reinstall all packages after enable the missed
(there is a whip command that helps on this) or reinstall Macaroni OS from
zero.</p>
<p>The second thing is to install all packages used in MARK:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise i elt-patches patch autoconf-archive gcc-config <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  diffutils binutils binutils-libs which make portage m4 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sandbox ego automake sys-devel-latest/autoconf <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  anise-portage-converter wget pkgs-checker entities <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sys-apps/whip-catalog whip virtual/base git <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ca-certificates linux-headers unzip pkgconf <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  virtual/pkgconfig
</span></span></code></pre></div><p>Ensure that the <code>/etc/ego.conf</code> file contains the mark branch
correct:</p>
<pre tabindex="0"><code>$&gt; cat /etc/ego.conf
[global]
release = mark-iii
sync_base_url = https://github.com/macaroni-os/{repo}
python_kit_profile = mark
</code></pre><p>At this point there are two different way to setup MARK tree:</p>
<p>a) using the <code>meta-repo</code> package from Phoenix that download the mark
tree used on build Phoenix packages to a specific pinned hashes. In this
case, if it&rsquo;s used later the <code>ego sync</code> command it&rsquo;s better clean
the kits directory before run the <em>sync</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise i meta-repo
</span></span><span style="display:flex;"><span>$&gt; rm -rf /var/git/meta-repo/kits/
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Avoid this command if you want to use the tree used in Phoenix</span>
</span></span><span style="display:flex;"><span>$&gt; ego sync
</span></span></code></pre></div><p>b) setup a fresh meta-repo installation without using Phoenix package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; mkdir -p /var/git
</span></span><span style="display:flex;"><span>$&gt; cd /var/git
</span></span><span style="display:flex;"><span>$&gt; git clone https://github.com/macaroni-os/meta-repo -b mark-iii
</span></span><span style="display:flex;"><span>$&gt; chown portage:portage -R .
</span></span><span style="display:flex;"><span>$&gt; ego sync
</span></span></code></pre></div><p>Now you can check with ego if all is ok:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ego profile list</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===</span> arch: <span style="color:#f92672">===</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">(</span>x86-64bit*<span style="color:#f92672">)</span>, x86-64bit-papa
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===</span> build: <span style="color:#f92672">===</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    current, <span style="color:#f92672">(</span>mark*<span style="color:#f92672">)</span>, musl, next
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===</span> subarch: <span style="color:#f92672">===</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    amd64-bulldozer, amd64-excavator, amd64-jaguar, amd64-k10
</span></span><span style="display:flex;"><span>    amd64-k8, amd64-k8+sse3, amd64-piledriver, amd64-pumaplus
</span></span><span style="display:flex;"><span>    amd64-steamroller, amd64-zen, amd64-zen2, amd64-zen3, atom_64
</span></span><span style="display:flex;"><span>    btver1_64, core-avx-i, core2_64, corei7, generic_64*, generic_64-v2
</span></span><span style="display:flex;"><span>    generic_64-v3, generic_64-v4, intel64-alderlake, intel64-broadwell
</span></span><span style="display:flex;"><span>    intel64-haswell, intel64-ivybridge, intel64-nehalem, intel64-rocketlake
</span></span><span style="display:flex;"><span>    intel64-sandybridge, intel64-silvermont, intel64-skylake, intel64-skylake-avx512
</span></span><span style="display:flex;"><span>    intel64-tremont, intel64-westmere, native_64, nocona, opteron_64
</span></span><span style="display:flex;"><span>    xen-pentium4+sse3_64
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===</span> flavor: <span style="color:#f92672">===</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    core*, desktop, hardened, minimal, server, workstation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===</span> mix-ins: <span style="color:#f92672">===</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    X, amazon-ec2, audio, btrfs, console-extras, dvd, encrypted-root
</span></span><span style="display:flex;"><span>    gfxcard-amdgpu, gfxcard-ancient-ati, gfxcard-intel, gfxcard-intel-classic
</span></span><span style="display:flex;"><span>    gfxcard-intel-iris, gfxcard-kvm, gfxcard-nouveau, gfxcard-nvidia
</span></span><span style="display:flex;"><span>    gfxcard-nvidia-legacy, gfxcard-older-ati, gfxcard-panfrost
</span></span><span style="display:flex;"><span>    gfxcard-radeon, gfxcard-raspi4, gfxcard-vmware, gnome, hardened
</span></span><span style="display:flex;"><span>    ime-backend-anthy, ime-backend-bamboo, ime-backend-chewing
</span></span><span style="display:flex;"><span>    ime-backend-hangul, ime-backend-libpinyin, ime-backend-m17n
</span></span><span style="display:flex;"><span>    ime-backend-mozc, ime-backend-rime, ime-backend-skk, ime-backend-unikey
</span></span><span style="display:flex;"><span>    ime-backends-chinese, ime-backends-japanese, ime-backends-korean
</span></span><span style="display:flex;"><span>    ime-backends-table, ime-backends-vietnamese, kde-plasma-5
</span></span><span style="display:flex;"><span>    kerberos, kernel-bookworm, kernel-forky, kernel-funtoo, kernel-sid
</span></span><span style="display:flex;"><span>    kernel-trixie, lvm-root, lxqt, mdadm-root, media, media-pro
</span></span><span style="display:flex;"><span>    mediadevice-audio-consumer, mediadevice-audio-pro, mediadevice-base
</span></span><span style="display:flex;"><span>    mediadevice-video-consumer, mediadevice-video-pro, mediaformat-audio-common
</span></span><span style="display:flex;"><span>    mediaformat-audio-extra, mediaformat-gfx-common, mediaformat-gfx-extra
</span></span><span style="display:flex;"><span>    mediaformat-video-common, mediaformat-video-extra, no-emul-linux-x86
</span></span><span style="display:flex;"><span>    no-systemd, openvz-host, print, pulseaudio, python3-only, selinux
</span></span><span style="display:flex;"><span>    stage1, vmware-guest, wayland, xfce
</span></span></code></pre></div><p>and it&rsquo;s important that this profile will be always present:</p>
<pre tabindex="0"><code>$&gt; cat /etc/portage/make.profile/parent | grep python-kit
core-kit:funtoo/kits/python-kit/mark
</code></pre><p>If it isn&rsquo;t present check that on <code>/etc/ego.conf</code> is present the row about <em>python_kit_profile</em>.</p>
<blockquote>
<p>To speedup the <em>emerge</em> solver remember to execute:</p>
<pre tabindex="0"><code>for i in $(ls -1 /var/git/meta-repo/kits/) ; do egencache --update --repo=$i ; done
</code></pre></blockquote>
<h3 id="your-mark-tree-is-now-ready">
  Your MARK tree is now ready!!!
  <a class="anchor" href="#your-mark-tree-is-now-ready">#</a>
</h3>
<p>Now you can mix <code>anise</code> and <code>emerge</code> as you prefer. Here, a little example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; emerge vim -pv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>These are the packages that would be merged, in order:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Calculating dependencies... <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> app-eselect/eselect-vi-1.1.9-r1::portage-kit  <span style="color:#ae81ff">7</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-libs/libltdl-2.4.6::core-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-static-libs&#34;</span> <span style="color:#ae81ff">951</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> app-editors/vim-core-9.1.1420::editors-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;acl nls -minimal&#34;</span> 18,412 KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> sys-devel/libtool-2.4.6-r5:2::core-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-vanilla&#34;</span> <span style="color:#ae81ff">0</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-libs/libsodium-1.0.18:0/23::dev-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;asm urandom -minimal -static-libs&#34;</span> CPU_FLAGS_X86<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-aes -sse4_1&#34;</span> 1,875 KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> app-editors/vim-9.1.1420::editors-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;acl crypt nls python -X -cscope -debug -gpm -lua -minimal -perl -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager&#34;</span> LUA_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lua5-3 -lua5-1 -lua5-2 -lua5-4 -luajit&#34;</span> PYTHON_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python2_7 -python3_10 -python3_7 -python3_8&#34;</span> PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python2_7 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">0</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> app-vim/gentoo-syntax-20190609::portage-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-ignore-glep31&#34;</span> <span style="color:#ae81ff">18</span> KiB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">7</span> packages <span style="color:#f92672">(</span><span style="color:#ae81ff">7</span> new<span style="color:#f92672">)</span>, Size of downloads: 21,262 KiB
</span></span></code></pre></div><p>If you want just <em>emerge</em> vim and not the dependencies, <em>anise</em> will helps you:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise i eselect-vi libltdl vim-core libtool libsodium gentoo-syntax
</span></span><span style="display:flex;"><span>üöÄ Luet 0.41.1-geaaru-gc4815024d03bc88794c76a165ba4018ae07296a3 2025-01-23 01:05:15 UTC - go1.23.1
</span></span><span style="display:flex;"><span>üè† Repository:              geaaru-repo-index Revision:   <span style="color:#ae81ff">15</span> - 2025-01-04 18:10:44 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-commons-testing Revision:  <span style="color:#ae81ff">280</span> - 2025-09-08 23:25:57 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-phoenix-testing Revision: <span style="color:#ae81ff">1738</span> - 2025-09-13 16:48:10 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:                           mark Revision:   <span style="color:#ae81ff">66</span> - 2025-09-06 08:54:42 +0000 UTC
</span></span><span style="display:flex;"><span>üß† Solving install tree...
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> app-editors/vim::macaroni-phoenix-testing                     - 9.1.1420
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">2</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> app-editors/vim-core::macaroni-phoenix-testing                - 9.1.1420
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">3</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> app-eselect/eselect-vi::macaroni-phoenix-testing              - 1.1.9
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">4</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> app-vim/gentoo-syntax::macaroni-phoenix-testing               - 20190609+1
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">5</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> dev-libs/libltdl::macaroni-phoenix-testing                    - 2.4.6+2
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">6</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> dev-libs/libsodium::macaroni-phoenix-testing                  - 1.0.18+1
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">7</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> dev-util/cscope::macaroni-phoenix-testing                     - 15.9+1
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">8</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> sys-devel-2.69/autoconf::macaroni-phoenix-testing             - 2.69+3
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">9</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> sys-devel-2/libtool::macaroni-phoenix-testing                 - 2.4.6+2
</span></span><span style="display:flex;"><span>üç¶ <span style="color:#f92672">[</span> <span style="color:#ae81ff">10</span> of  10<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>N<span style="color:#f92672">]</span> sys-libs/gpm::macaroni-phoenix-testing                        - 1.20.7+1
</span></span><span style="display:flex;"><span>üíÇ Checking <span style="color:#66d9ef">for</span> file conflicts...
</span></span><span style="display:flex;"><span>‚úîÔ∏è  No conflicts found <span style="color:#f92672">(</span>executed in <span style="color:#ae81ff">10249</span> ¬µs<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>Do you want to <span style="color:#66d9ef">continue</span> with this operation? <span style="color:#f92672">[</span>y/N<span style="color:#f92672">]</span>: y
</span></span><span style="display:flex;"><span>üöö Downloading <span style="color:#ae81ff">10</span> packages...
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of  10<span style="color:#f92672">]</span> app-eselect/eselect-vi::macaroni-phoenix-testing                  - 1.1.9           <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">2</span> of  10<span style="color:#f92672">]</span> dev-util/cscope::macaroni-phoenix-testing                         - 15.9+1          <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">3</span> of  10<span style="color:#f92672">]</span> app-editors/vim::macaroni-phoenix-testing                         - 9.1.1420        <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">4</span> of  10<span style="color:#f92672">]</span> app-editors/vim-core::macaroni-phoenix-testing                    - 9.1.1420        <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">5</span> of  10<span style="color:#f92672">]</span> dev-libs/libsodium::macaroni-phoenix-testing                      - 1.0.18+1        <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">6</span> of  10<span style="color:#f92672">]</span> sys-libs/gpm::macaroni-phoenix-testing                            - 1.20.7+1        <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">7</span> of  10<span style="color:#f92672">]</span> app-vim/gentoo-syntax::macaroni-phoenix-testing                   - 20190609+1      <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">8</span> of  10<span style="color:#f92672">]</span> dev-libs/libltdl::macaroni-phoenix-testing                        - 2.4.6+2         <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">9</span> of  10<span style="color:#f92672">]</span> sys-devel-2.69/autoconf::macaroni-phoenix-testing                 - 2.69+3          <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span> <span style="color:#ae81ff">10</span> of  10<span style="color:#f92672">]</span> sys-devel-2/libtool::macaroni-phoenix-testing                     - 2.4.6+2         <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üß† Sorting <span style="color:#ae81ff">10</span> packages operations...
</span></span><span style="display:flex;"><span>üçª Executing <span style="color:#ae81ff">10</span> packages operations...
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of  10<span style="color:#f92672">]</span> app-editors/vim-core::macaroni-phoenix-testing                    - 9.1.1420        <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">2</span> of  10<span style="color:#f92672">]</span> app-eselect/eselect-vi::macaroni-phoenix-testing                  - 1.1.9           <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">3</span> of  10<span style="color:#f92672">]</span> dev-libs/libltdl::macaroni-phoenix-testing                        - 2.4.6+2         <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">4</span> of  10<span style="color:#f92672">]</span> dev-libs/libsodium::macaroni-phoenix-testing                      - 1.0.18+1        <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">5</span> of  10<span style="color:#f92672">]</span> dev-util/cscope::macaroni-phoenix-testing                         - 15.9+1          <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">6</span> of  10<span style="color:#f92672">]</span> sys-devel-2.69/autoconf::macaroni-phoenix-testing                 - 2.69+3          <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">7</span> of  10<span style="color:#f92672">]</span> sys-libs/gpm::macaroni-phoenix-testing                            - 1.20.7+1        <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">8</span> of  10<span style="color:#f92672">]</span> sys-devel-2/libtool::macaroni-phoenix-testing                     - 2.4.6+2         <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">9</span> of  10<span style="color:#f92672">]</span> app-editors/vim::macaroni-phoenix-testing                         - 9.1.1420        <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span> <span style="color:#ae81ff">10</span> of  10<span style="color:#f92672">]</span> app-vim/gentoo-syntax::macaroni-phoenix-testing                   - 20190609+1      <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>üéä All <span style="color:#66d9ef">done</span>.
</span></span></code></pre></div><p>in the previous command <em>vim-core</em> inject <em>vim</em> too, and so running again the <em>emerge</em> command will be see from
Portage like a rebuild where user can choice specific CPU flags and/or other:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; emerge vim -pv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>These are the packages that would be merged, in order:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Calculating dependencies... <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild   R    <span style="color:#f92672">]</span> app-editors/vim-9.1.1420::editors-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;acl crypt nls python -X* -cscope* -debug -gpm* -lua -minimal -perl -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager&#34;</span> LUA_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lua5-3* -lua5-1 -lua5-2 -lua5-4 -luajit&#34;</span> PYTHON_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python2_7 -python3_10 -python3_7 -python3_8&#34;</span> PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python2_7 -python3_10 -python3_7 -python3_8&#34;</span> 18,412 KiB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">1</span> package <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> reinstall<span style="color:#f92672">)</span>, Size of downloads: 18,412 KiB
</span></span></code></pre></div><blockquote>
<p>NOTE: after that you have installed a package with <em>emerge</em> in order to have a better synchronization
with <em>anise</em> you need to run this command:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise-portage-converter sync
</span></span></code></pre></div><p>or just to see what packages will be added:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise-portage-converter sync --dry-run
</span></span></code></pre></div><p>any new package (and not re-emerged) will be added in the anise database with the special <em>scm</em> repository.</p>
<p>About working with anise and emerge together read also this 
  <a href="/docs/mark/sambuca-diff/#2-use-flags-not-aligned-to-mark-profiles">chapter</a>.</p>
<h2 id="add-an-anise-package-to-portage-world-file">
  Add an anise package to Portage world file
  <a class="anchor" href="#add-an-anise-package-to-portage-world-file">#</a>
</h2>
<p>At the moment, the installation of a package with *anise` doesn&rsquo;t update Portage world file.</p>
<p>So, if you want to keep these things aligned you can run this command:</p>
<pre tabindex="0"><code>$&gt; anise-portage-converter portage add-world  --help
Add one or more packages to Portage world file.

Add a package with category and name:
$&gt; anise-portage-converter portage add-world cat/foo

Add a package with slot (when != 0):
$&gt; anise-portage-converter portage aw cat/foo:2

Add a package with repository:
$&gt; anise-portage-converter portage aw cat/foo::core-kit

Add a package with slot and repository:
$&gt; anise-portage-converter portage aw cat/foo:2::core-kit

NOTE: The command automatically avoid to add duplicate.

Usage:
  anise-portage-converter portage add-world [package1] ... [packageN] [flags]
</code></pre><p>This step is not mandatory but update files used by Portage to identify
packages no more needed after a particular upgrade.</p>
<h2 id="upgrade-a-mark-synced-system-with-anise">
  Upgrade a MARK synced system with <code>anise</code>
  <a class="anchor" href="#upgrade-a-mark-synced-system-with-anise">#</a>
</h2>
<p>As described in the previous chapter running <em>anise-portage-converter</em> add the emerged
packages in the anise database with <em>scm</em> as repository.</p>
<p>If you want using <code>anise upgrade</code> to update your system remember that the Macaroni
binary packages didn&rsquo;t follow a specific profile and USE flags could be different from
your setup.</p>
<p>We suggest to run always <code>anise-portage-converter sync</code> before running <code>anise upgrade</code>
as best practice.</p>
<p>So, if you have merged for example <em>htop</em> and other dependencies, running <em>anise upgrade</em>
will show something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise upgrade
</span></span><span style="display:flex;"><span>üöÄ Luet 0.41.1-geaaru-gc4815024d03bc88794c76a165ba4018ae07296a3 2025-01-23 01:05:15 UTC - go1.23.1
</span></span><span style="display:flex;"><span>üè† Repository:              geaaru-repo-index Revision:   <span style="color:#ae81ff">15</span> - 2025-01-04 18:10:44 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-commons-testing Revision:  <span style="color:#ae81ff">280</span> - 2025-09-08 23:25:57 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-phoenix-testing Revision: <span style="color:#ae81ff">1738</span> - 2025-09-13 16:48:10 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:                           mark Revision:   <span style="color:#ae81ff">66</span> - 2025-09-06 08:54:42 +0000 UTC
</span></span><span style="display:flex;"><span>ü§î Computing upgrade, please hang tight... üí§ 
</span></span><span style="display:flex;"><span>üéâ Upgrades:
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   5<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> dev-util/meson::macaroni-phoenix-testing                      - 1.7.0+1 <span style="color:#f92672">[</span>1.7.0::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">2</span> of   5<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> dev-util/re2c::macaroni-phoenix-testing                       - 1.1.1+2 <span style="color:#f92672">[</span>1.1.1::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">3</span> of   5<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> sys-devel-2.69/autoconf::macaroni-phoenix-testing             - 2.69+3 <span style="color:#f92672">[</span>2.69::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">4</span> of   5<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> sys-libs/ncurses::macaroni-phoenix-testing                    - 6.5+2 <span style="color:#f92672">[</span>6.5::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">5</span> of   5<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> sys-process/htop::macaroni-phoenix-testing                    - *3.4.1 <span style="color:#f92672">[</span>3.4.1::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üíÇ Checking <span style="color:#66d9ef">for</span> file conflicts...
</span></span><span style="display:flex;"><span>‚úîÔ∏è  No conflicts found <span style="color:#f92672">(</span>executed in <span style="color:#ae81ff">217813</span> ¬µs<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>Do you want to <span style="color:#66d9ef">continue</span> with this operation? <span style="color:#f92672">[</span>y/N<span style="color:#f92672">]</span>: 
</span></span></code></pre></div><p>Where the <em>scm</em> package will be normally replaced by anise because the hash of the metadata
will be different from the metadata added with <em>anise-portage-converter</em>.</p>
<p>In order to avoid the upgrade of <em>htop</em> package you need to mask the package with these commands:</p>
<pre tabindex="0"><code>$&gt; mkdir -p /etc/luet/mask.d
$&gt; echo &#34;
enabled: true
rules:
- sys-process/htop::macaroni-phoenix-testing # or just sys-process/htop
&#34; &gt; /etc/luet/mask.d/00-my.yml
</code></pre><p>The result will be:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise upgrade
</span></span><span style="display:flex;"><span>üöÄ Luet 0.41.1-geaaru-gc4815024d03bc88794c76a165ba4018ae07296a3 2025-01-23 01:05:15 UTC - go1.23.1
</span></span><span style="display:flex;"><span>üè† Repository:              geaaru-repo-index Revision:   <span style="color:#ae81ff">15</span> - 2025-01-04 18:10:44 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-commons-testing Revision:  <span style="color:#ae81ff">280</span> - 2025-09-08 23:25:57 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:       macaroni-phoenix-testing Revision: <span style="color:#ae81ff">1738</span> - 2025-09-13 16:48:10 +0000 UTC
</span></span><span style="display:flex;"><span>üè† Repository:                           mark Revision:   <span style="color:#ae81ff">66</span> - 2025-09-06 08:54:42 +0000 UTC
</span></span><span style="display:flex;"><span>ü§î Computing upgrade, please hang tight... üí§ 
</span></span><span style="display:flex;"><span>üéâ Upgrades:
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   4<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> dev-util/meson::macaroni-phoenix-testing                      - 1.7.0+1 <span style="color:#f92672">[</span>1.7.0::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">2</span> of   4<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> dev-util/re2c::macaroni-phoenix-testing                       - 1.1.1+2 <span style="color:#f92672">[</span>1.1.1::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">3</span> of   4<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> sys-devel-2.69/autoconf::macaroni-phoenix-testing             - 2.69+3 <span style="color:#f92672">[</span>2.69::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üç¨ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">4</span> of   4<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>U<span style="color:#f92672">]</span> sys-libs/ncurses::macaroni-phoenix-testing                    - 6.5+2 <span style="color:#f92672">[</span>6.5::scm<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>üíÇ Checking <span style="color:#66d9ef">for</span> file conflicts...
</span></span><span style="display:flex;"><span>‚úîÔ∏è  No conflicts found <span style="color:#f92672">(</span>executed in <span style="color:#ae81ff">26751</span> ¬µs<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>Do you want to <span style="color:#66d9ef">continue</span> with this operation? <span style="color:#f92672">[</span>y/N<span style="color:#f92672">]</span>:
</span></span></code></pre></div><p>As visible the htop will be not replaced by the binary version available on <em>macaroni-phoenix-testing</em>
repository.</p>
<p>In addition, if an emerged version of the package will have a version major of the
version available on Phoenix repository <em>anise</em> will keep the <em>scm</em> version if it&rsquo;s not
used <code>--deep</code> option.</p>
<blockquote>
<p><strong>NOTE:</strong> If you prefer use more <em>anise</em> keep attention of packages splitted in anise.</p>
</blockquote>
<h2 id="using-anise-to-restore-system">
  Using <code>anise</code> to restore system
  <a class="anchor" href="#using-anise-to-restore-system">#</a>
</h2>
<p><em>Have you ever tried to restore a Portage broken system? Yes, you can!</em></p>
<p>Obviously, if the system is broken and you can&rsquo;t enter on it <em>anise</em> doesn&rsquo;t magic.
But if the system became broken while your upgrade process for bug or anything or you
have used a live ISO to enter in the broken chroot you can use <em>anise</em> to restore it.</p>
<p>In order to explain the behaviour we tried to use a container and break the system.</p>
<h4 id="scenario-1-portage-is-dead">
  Scenario 1: Portage is dead!
  <a class="anchor" href="#scenario-1-portage-is-dead">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; <span style="color:#75715e"># Considering that we can&#39;t just remove portage</span>
</span></span><span style="display:flex;"><span>$&gt; emerge --unmerge portage 
</span></span><span style="display:flex;"><span> * This action can remove important packages! In order to be safer, use
</span></span><span style="display:flex;"><span> * <span style="color:#e6db74">`</span>emerge -pv --depclean &lt;atom&gt;<span style="color:#e6db74">`</span> to check <span style="color:#66d9ef">for</span> reverse dependencies before
</span></span><span style="display:flex;"><span> * removing packages.
</span></span><span style="display:flex;"><span> * Not unmerging package sys-apps/portage-3.0.14-r13 since there is no valid
</span></span><span style="display:flex;"><span> * reason <span style="color:#66d9ef">for</span> Portage to unmerge itself.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; No packages selected <span style="color:#66d9ef">for</span> removal by unmerge
</span></span><span style="display:flex;"><span>$&gt; <span style="color:#75715e"># The fun begin....</span>
</span></span><span style="display:flex;"><span>$&gt; rm -rf /usr/lib/portage/*
</span></span></code></pre></div><p>and now :boom::</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; emerge portage -pv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>These are the packages that would be merged, in order:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Calculating dependencies <span style="color:#ae81ff">\/</span>bin/bash: line 1: /usr/lib/portage/python3.9/ebuild.sh: No such file or directory
</span></span><span style="display:flex;"><span>... <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>!!! All ebuilds that could satisfy <span style="color:#e6db74">&#34;portage&#34;</span> have been masked.
</span></span><span style="display:flex;"><span>!!! One of the following masked packages is required to complete your request:
</span></span><span style="display:flex;"><span>- sys-apps/portage-3.0.14-r13::portage-kit <span style="color:#f92672">(</span>masked by: corruption<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For more information, see the MASKED PACKAGES section in the emerge
</span></span><span style="display:flex;"><span>man page or refer to the Gentoo Handbook.
</span></span></code></pre></div><p>This scenario is pretty easy to recover:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise miner ri sys-apps/portage
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   1<span style="color:#f92672">]</span> sys-apps/portage::macaroni-phoenix-testing                        - 3.0.14+6        <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   1<span style="color:#f92672">]</span> sys-apps/portage::macaroni-phoenix-testing                        - 3.0.14+6        <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>Executing finalizer <span style="color:#66d9ef">for</span> sys-apps/portage-3.0.14+6
</span></span><span style="display:flex;"><span>üêö  Executing finalizer on  / /bin/bash <span style="color:#f92672">[</span>-c eval <span style="color:#e6db74">&#39;mkdir -p /var/tmp/portage || true&#39;</span> <span style="color:#f92672">&amp;&amp;</span> entities merge --specs-dir /usr/share/macaroni/entities/ -e portage <span style="color:#f92672">&amp;&amp;</span> eval <span style="color:#e6db74">&#39;chown portage:portage /var/tmp/portage -R || true&#39;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Merged users portage.
</span></span><span style="display:flex;"><span>Merged group portage.
</span></span><span style="display:flex;"><span>Merged shadow portage.
</span></span><span style="display:flex;"><span>Merged gshadow portage.
</span></span><span style="display:flex;"><span>All <span style="color:#66d9ef">done</span>.
</span></span></code></pre></div><p>and now Portage is back:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; emerge portage -pv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>These are the packages that would be merged, in order:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Calculating dependencies... <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> sys-libs/libxcrypt-2.4::security-kit  <span style="color:#ae81ff">354</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> sys-apps/install-xattr-0.7::portage-kit  <span style="color:#ae81ff">16</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-util/gperf-3.1::dev-kit  1,188 KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-libs/popt-1.16-r2::dev-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nls -static-libs&#34;</span> <span style="color:#ae81ff">687</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/installer-0.5.1-r1::python-modules-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-test&#34;</span> PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -pypy3 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">900</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/commonmark-0.9.1::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">94</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/tomli-2.0.0::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">15</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> net-misc/rsync-3.4.1::net-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;acl iconv ipv6 ssl xattr zstd -examples -libressl -lz4 -stunnel -system-zlib -xxhash&#34;</span> CPU_FLAGS_X86<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sse2&#34;</span> <span style="color:#ae81ff">865</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/gpep517-16::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">19</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  NS    <span style="color:#f92672">]</span> app-text/docbook-xml-dtd-4.5-r1:4.5::text-kit <span style="color:#f92672">[</span>4.2-r2:4.2::core-kit<span style="color:#f92672">]</span> <span style="color:#ae81ff">97</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/flit_core-3.11.0::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">51</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/wheel-0.45.1::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -pypy3 -python2_7 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">106</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/markupsafe-3.0.2::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">21</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> dev-python/jinja-3.1.6::python-modules-kit  PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> <span style="color:#ae81ff">240</span> KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild  N     <span style="color:#f92672">]</span> sys-apps/systemd-tmpfiles-256::core-server-kit  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(-selinux)&#34;</span> 15,277 KiB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild   R    <span style="color:#f92672">]</span> sys-apps/portage-3.0.14-r13::portage-kit <span style="color:#f92672">[</span>3.0.14-r13::core-kit<span style="color:#f92672">]</span> USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(ipc) native-extensions xattr -apidoc -build -doc -gentoo-dev -rsync-verify (-selinux) -test&#34;</span> PYTHON_TARGETS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_9 -python3_10 -python3_7 -python3_8&#34;</span> 1,413 KiB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">16</span> packages <span style="color:#f92672">(</span><span style="color:#ae81ff">14</span> new, <span style="color:#ae81ff">1</span> in new slot, <span style="color:#ae81ff">1</span> reinstall<span style="color:#f92672">)</span>, Size of downloads: 21,333 KiB
</span></span></code></pre></div><p>If you have additional scenarios that could help users feel free to create a PR
for this page!</p>
<h4 id="scenario-2-break-glibc">
  Scenario 2: Break glibc!
  <a class="anchor" href="#scenario-2-break-glibc">#</a>
</h4>
<p>To simulate a glibc library broken we remove <em>glibc</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; emerge --unmerge glibc -pv
</span></span><span style="display:flex;"><span> * This action can remove important packages! In order to be safer, use
</span></span><span style="display:flex;"><span> * <span style="color:#e6db74">`</span>emerge -pv --depclean &lt;atom&gt;<span style="color:#e6db74">`</span> to check <span style="color:#66d9ef">for</span> reverse dependencies before
</span></span><span style="display:flex;"><span> * removing packages.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; These are the packages that would be unmerged:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>!!! <span style="color:#e6db74">&#39;sys-libs/glibc&#39;</span> <span style="color:#f92672">(</span>virtual/libc<span style="color:#f92672">)</span> is part of your system profile.
</span></span><span style="display:flex;"><span>!!! Unmerging it may be damaging to your system.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> sys-libs/glibc
</span></span><span style="display:flex;"><span>    selected: 2.33-r4 
</span></span><span style="display:flex;"><span>   protected: none 
</span></span><span style="display:flex;"><span>     omitted: none 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>All selected packages: <span style="color:#f92672">=</span>sys-libs/glibc-2.33-r4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; <span style="color:#e6db74">&#39;Selected&#39;</span> packages are slated <span style="color:#66d9ef">for</span> removal.
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; <span style="color:#e6db74">&#39;Protected&#39;</span> and <span style="color:#e6db74">&#39;omitted&#39;</span> packages will not be removed.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>test-phoenix ~ <span style="color:#75715e">#  emerge --unmerge glibc </span>
</span></span><span style="display:flex;"><span> * This action can remove important packages! In order to be safer, use
</span></span><span style="display:flex;"><span> * <span style="color:#e6db74">`</span>emerge -pv --depclean &lt;atom&gt;<span style="color:#e6db74">`</span> to check <span style="color:#66d9ef">for</span> reverse dependencies before
</span></span><span style="display:flex;"><span> * removing packages.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>!!! <span style="color:#e6db74">&#39;sys-libs/glibc&#39;</span> <span style="color:#f92672">(</span>virtual/libc<span style="color:#f92672">)</span> is part of your system profile.
</span></span><span style="display:flex;"><span>!!! Unmerging it may be damaging to your system.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> sys-libs/glibc
</span></span><span style="display:flex;"><span>    selected: 2.33-r4 
</span></span><span style="display:flex;"><span>   protected: none 
</span></span><span style="display:flex;"><span>     omitted: none 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>All selected packages: <span style="color:#f92672">=</span>sys-libs/glibc-2.33-r4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; <span style="color:#e6db74">&#39;Selected&#39;</span> packages are slated <span style="color:#66d9ef">for</span> removal.
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; <span style="color:#e6db74">&#39;Protected&#39;</span> and <span style="color:#e6db74">&#39;omitted&#39;</span> packages will not be removed.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; Waiting <span style="color:#ae81ff">5</span> seconds before starting...
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; <span style="color:#f92672">(</span>Control-C to abort<span style="color:#f92672">)</span>...
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; Unmerging in: <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; Unmerging <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> of 1<span style="color:#f92672">)</span> sys-libs/glibc-2.33-r4...
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/ld-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/ld-linux-x86-64.so.2
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libc-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libc.so.6
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libcrypt-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libcrypt.so.1
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libdl-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libdl.so.2
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libpthread-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libpthread.so.0
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libresolv-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libresolv.so.2
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/librt-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/librt.so.1
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   obj /lib64/libutil-2.33.so
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; needed   sym /lib64/libutil.so.1
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;</span> !needed  obj /lib64/libresolv-2.33.so
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;</span> !needed  sym /lib64/libresolv.so.2
</span></span><span style="display:flex;"><span>/usr/bin/python3.9: error <span style="color:#66d9ef">while</span> loading shared libraries: libm.so.6: cannot open shared object file: No such file or directory
</span></span><span style="display:flex;"><span> * ERROR: sys-libs/glibc-2.33-r4::core-kit failed <span style="color:#f92672">(</span>postrm phase<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span> *   filter-bash-environment.py failed
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>$&gt; <span style="color:#75715e"># Force remove of the libc library</span>
</span></span><span style="display:flex;"><span>$&gt; rm /lib64/libc.so.6
</span></span><span style="display:flex;"><span>$&gt; ls
</span></span><span style="display:flex;"><span>ls: error <span style="color:#66d9ef">while</span> loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory
</span></span><span style="display:flex;"><span>$&gt; bash
</span></span><span style="display:flex;"><span>bash: error <span style="color:#66d9ef">while</span> loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory
</span></span></code></pre></div><p><em>anise</em> is built statically, this permit to execute the command and install packages
also when the rootfs became unusable:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$&gt; anise miner ri glibc
</span></span><span style="display:flex;"><span>üì¶ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   1<span style="color:#f92672">]</span> sys-libs-2.2/glibc::macaroni-phoenix-testing                      - 2.33+5          <span style="color:#75715e"># downloaded ‚úî </span>
</span></span><span style="display:flex;"><span>üç∞ <span style="color:#f92672">[</span>  <span style="color:#ae81ff">1</span> of   1<span style="color:#f92672">]</span> sys-libs-2.2/glibc::macaroni-phoenix-testing                      - 2.33+5          <span style="color:#75715e"># installed ‚úî </span>
</span></span><span style="display:flex;"><span>$&gt; ls -l
</span></span><span style="display:flex;"><span>total <span style="color:#ae81ff">0</span>
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





  <div>
    <a class="flex align-center" href="https://github.com/macaroni-os/macaroni-site/edit/master/site/content/docs/mark/phoenix2mark.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span></span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  

  </div><!-- Footer Section Start -->
<footer id="footer">
  <div class="container">
    <div class="row content-justify-between">
      <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
        <p class="copyright">Copyright:
          <span>
            <script>
              document.write(new Date().getFullYear())
            </script>
          </span> Daniele Rondina All Rights Reserved
        </p>
      </div>
      <div class="col-md-4 col-12">
        <!-- Social Media -->
        <ul class="social text-center text-md-right text-lg-right">
          
          <li><a href="https://github.com/macaroni-os"><i class="ion-social-github"></i></a></li>
          
          <li><a href="https://discord.gg/AMuVCRZEvG"><i class="ion-chatbox"></i></a></li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://www.macaronios.org/plugins/jQurey/jquery.min.js"></script>
<!-- slick slider -->
<script src="https://www.macaronios.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://www.macaronios.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- wow js -->
<script src="https://www.macaronios.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://www.macaronios.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://www.macaronios.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://www.macaronios.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'Your ID', 'auto');
  ga('send', 'pageview');
</script>
</body>

</html>












