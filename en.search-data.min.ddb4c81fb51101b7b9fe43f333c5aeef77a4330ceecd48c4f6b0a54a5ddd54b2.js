"use strict";(function(){const t={};t.doc={id:"id",field:["title","content"],store:["title","href","section"]};const e=FlexSearch.create("balance",t);window.bookSearchIndex=e,e.add({id:0,href:"/contact/",title:"Contacts",section:"Macaroni OS",content:`We will happy to receive your feedback about the software available, what is missing, and your help in improving the distro.
Discord You can reach us in our Discord Server and we are also in the Funtoo Discord Server.
Issues Tracker Our issue tracker is over our Github main repository.
If you find a bug or do you have some new feature request please open an issue here.
Support us with hardware Building packages requires resources and hardware. If you want to donate a node to attach to our Mottainai Cluster please contact me directly through our Discord Server.
`}),e.add({id:1,href:"/faq/",title:"Frequently Asked Questions",section:"Macaroni OS",content:`1. How update Macaroni Repositories URLs? In the last period due to the changes in the new domain and the stabilization of the Macaroni infra there are been a lot of changes in the repository URLs. Working with donated resources and/or free resources has the consequence that the changes could happen.
So, I will describe the better way to upgrade safe our repositories.
a) leave only the geaaru-repo-index repository enabled. This means to call luet repo disable for all others repositories
$# luet repo disable macaroni-commons mottainai-stable macaroni-funtoo $# luet repo list --enabled geaaru-repo-index Macaroni OS Repository Index Revision 4 - 2023-02-25 10:32:39 +0000 -00 Priority 1 - Type http b) At this point, it\u0026rsquo;s possible update the repository and get the new urls:
$# luet repo update üè† Repository: geaaru-repo-index Revision: 4 - 2023-02-25 10:32:39 +0000 -00 $# luet upgrade The upgrade creates the files /etc/luet/repos.conf.d/._cfg_\u0026lt;repo\u0026gt;.yml that could be merged with the command etc-update (in the old system) or with the command macaronictl etc-update in the more updated systems.
After the upgrade and the merge of the new configs the system is ready for the updates: luet repo update and luet upgrade.
It\u0026rsquo;s possible check the repositories urls with:
# luet repo list --urls --enabled geaaru-repo-index Geaaru Repository index Revision 4 - 2023-02-25 10:32:39 +0000 UTC Priority 1 - Type http Urls: * https://cdn.macaronios.org/mottainai/geaaru-repo-index macaroni-commons-dev Macaroni OS Commons Development Repository Revision 129 - 2023-03-03 22:16:31 +0000 UTC Priority 10 - Type http Urls: * https://dev.macaronios.org/macaroni-commons-dev/ macaroni-funtoo-systemd-dev Macaroni OS Funtoo Eagle Develop Repository Revision 452 - 2023-02-26 11:14:32 +0000 UTC Priority 2 - Type http Urls: * https://images.macaronios.org/macaroni-funtoo-systemd-dev/ mottainai-dev Mottainai Development Repository Revision 72 - 2023-02-25 23:47:52 +0000 UTC Priority 10 - Type http Urls: * https://dev.macaronios.org/mottainai-dev/ mottainai-stable Mottainai official Repository Revision 72 - 2023-02-25 23:47:52 +0000 UTC Priority 30 - Type http Urls: * https://dl.macaronios.org/repos/mottainai/ * https://cdn2.macaronios.org/repos/mottainai/ * https://macaronios.mirror.garr.it/repos/mottainai/ 2. What to do after the upgrade of the luet binary? I leave this point in the FAQ because I began to rewrite the Macaroni PMS and until I will rewrite the luet-build binary the luet repo update command executes some post-fetch operations on the downloaded tree to speed up the research, and to have the files used by the new solver available in the luet version 0.33.0 and followed.
So, after the upgrade of luet there are two things that is better to do:
$# luet database reindex This will rebuild the Bolt Database indexes and
$# luet repo update --force that download and executes again the post-fetch hooks in the downloaded tree.
One of the errors reported by the users when is not executed a full fetch of the Macaroni repositories after the upgrade is this:
ü§î Computing upgrade, please hang tight... üí§ Error: Package net-libs-4/webkit not found on map 3. Why luet search doesn\u0026rsquo;t return packages? Excluding the search of the packages installed, i mean with the --installed option, the luet search command works only when the enabled repositories are been synced.
It\u0026rsquo;s just needed to download one time the repositories tree and then all works fine.
$# luet repo update ... $# luet s macaronictl app-admin/macaronictl-0.6.2 app-admin/macaronictl-thin-0.6.2 # luet s portage-converter macaroni/luet-portage-converter-0.11.2 `}),e.add({id:2,href:"/blog/phoenix-23.03.02/",title:"Macaroni OS Phoenix 23.03.02 is out!",section:"Blog",content:`After receiving the first notifications we caught an issue in our last ISOs related to the split of the Grub package done to divide the grub-emu binary. It\u0026rsquo;s been removed for error the Grub\u0026rsquo;s patches related to ext4 1.47.0 and of Macaroni initramfs naming.
Without the patch the default installation fails on setup grub because it\u0026rsquo;s used ext4 and an unknown filesystem error is generated by grub.
The new ISOs will be available in two days.
Unlucky, to build the ISOs with the stable repositories at the moment we need to wait that the stable repositories to be synced to our CDN and main mirror.
We have planned to integrate the repetitors feature to luet that will permit to reduce the outgoing traffic when it\u0026rsquo;s used Macaroni for CD/CI and for us, to test stable repository before sync it to master.
All ISOs will be with ZRAM enabled by default.
Sorry for this issue.
Behind this fix, I fixed the URL reported in the Calamares installer that was yet with the old domain macaroni.funtoo.org.
See previous post for the details about changes.
We waiting for you We waiting for you in our Discord Server.
Thanks Many thanks to all Funtoo devs that are the sap of all this and to all people that helps us with testing and donations.
Support Us Any user that wants to support our work for Macaroni could do this through the Github Sponsor.
`}),e.add({id:3,href:"/blog/phoenix-23.03.01/",title:"Macaroni OS Phoenix 23.03.01 is out!",section:"Blog",content:`While we have worked on preparing the new ISOs for the release 23.03 we have figured out that was better to bump a new release with the changes of the Calamares plugin to migrate our ISOs to kernel 6.1. In particular, the ISOs for Desktops have now the kernel 6.1.18 with built-in integration with new Realtek wifi cards. Unluckily not yet the cards 8852b e 8852be that will be available on branch 6.2. We will try to support it on kernel 6.1 with an external driver in the next release.
The Server ISOs maintain the kernel 5.10 LTS.
This is the reason for this delay and this micro-release.
We share in addition, that testing the Firefox release 109.0.1 that is been released on release 23.01 has figured out that there are some issues with NVIDIA cards. The Firefox windows were stalled often and only disabling hardware acceleration fixed this issue. So, please, if users have some similar experience with release 111.0 open an issue.
The new Download page We are very happy to share finally the new Download page where retrieve the new ISOs is now available. Inside the Download page we have tried to use a labels view that we hope will help users to choose the right ISOs for their requirements. Any feedback about this will help, thanks.
macaronictl gets again power! After receive tons of requests about integrate a switch command to upgrade the kernel release, we are happy to share that the time is arrived\u0026hellip;
The macaronictl release 0.8.0 contains these new commands and improvements:
macaronictl kernel switch #\u0026gt; macaronictl k switch macaroni@6.1 Found kernel candidate kernel-6.1/macaroni-full-6.1.12... Modules extra to install: - kernel-6.1/lkrg-0.9.6 In summary this command search for all extra kernel modules installed in the system and it tries to install the selected kernel with all extra modules installed.
macaronictl kernel modules When the local repositories are synced this command permits to retrieve all extra kernel modules availables in all kernel branches:
$ macaronictl kernel modules | PACKAGE | PACKAGE VERSION | KERNEL BRANCH | KERNEL VERSION | REPOSITORY | |----------------------------------------|-----------------|---------------|----------------|-----------------| | kernel-5.10/lkrg | 0.9.6+1 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/nvidia-kernel-modules | 525.85.05+3 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/rtw89 | 0.20220824+15 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/virtualbox-guest-additions | 7.0.6.155176+3 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/virtualbox-modules | 7.0.6.155176+2 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/zfs-kmod | 2.1.9+2 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.15/nvidia-kernel-modules | 525.85.05+2 | 5.15 | 5.15.102 | macaroni-funtoo | | kernel-5.15/rtw89 | 0.20220824+11 | 5.15 | 5.15.102 | macaroni-funtoo | | kernel-5.15/virtualbox-modules | 7.0.6.155176+2 | 5.15 | 5.15.102 | macaroni-funtoo | | kernel-5.4/nvidia-kernel-modules | 525.85.05+2 | 5.4 | 5.4.236 | macaroni-funtoo | | kernel-5.4/rtw89 | 0.20220824+11 | 5.4 | 5.4.236 | macaroni-funtoo | | kernel-5.4/virtualbox-modules | 7.0.6.155176+2 | 5.4 | 5.4.236 | macaroni-funtoo | | kernel-5.4/zfs-kmod | 2.1.9+2 | 5.4 | 5.4.236 | macaroni-funtoo | | kernel-6.1/lkrg | 0.9.6+2 | 6.1 | 6.1.18 | macaroni-funtoo | | kernel-6.1/nvidia-kernel-modules | 525.85.05+2 | 6.1 | 6.1.18 | macaroni-funtoo | | kernel-6.1/virtualbox-guest-additions | 7.0.6.155176+2 | 6.1 | 6.1.18 | macaroni-funtoo | | kernel-6.1/virtualbox-modules | 7.0.6.155176+2 | 6.1 | 6.1.18 | macaroni-funtoo | | kernel-6.1/zfs-kmod | 2.1.9+2 | 6.1 | 6.1.18 | macaroni-funtoo | or for a specific kernel branch:
$ macaronictl kernel modules -b 5.10 | PACKAGE | PACKAGE VERSION | KERNEL BRANCH | KERNEL VERSION | REPOSITORY | |----------------------------------------|-----------------|---------------|----------------|-----------------| | kernel-5.10/lkrg | 0.9.6+1 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/nvidia-kernel-modules | 525.85.05+3 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/rtw89 | 0.20220824+15 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/virtualbox-guest-additions | 7.0.6.155176+3 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/virtualbox-modules | 7.0.6.155176+2 | 5.10 | 5.10.174 | macaroni-funtoo | | kernel-5.10/zfs-kmod | 2.1.9+2 | 5.10 | 5.10.174 | macaroni-funtoo | macaronictl kernel available Running this command with root privileged now permits us to see the installed kernel in bold.
Whip power! With little steps, we improve our knife swiss that is used to post-install hooks and for validation. In this release, we have added new important hooks to the whip catalog:
linking.check: This hook permit to validation of existing installation and search for libraries or binary with a broken link. So, if you find some issue with running this in a clean installation, please, open an issue.
For example, on Eagle release I found this issue that permits to be fixed very fast until the fix will be available on the repository:
$\u0026gt; whip h linking.check Checking directory /usr/lib64... Checking directory /usr/lib... Checking directory /usr/bin... /usr/bin/rsync Checking directory /bin... Checking directory /usr/sbin... Checking directory /usr/libexec... [linking.check] Completed correctly. The rsync binary seems broken:
$\u0026gt; ldd /usr/bin/rsync linux-vdso.so.1 (0x00007ffcb294f000) libacl.so.1 =\u0026gt; /lib64/libacl.so.1 (0x00007f9571d29000) libpopt.so.0 =\u0026gt; not found libcrypto.so.1.1 =\u0026gt; /usr/lib64/libcrypto.so.1.1 (0x00007f9571a00000) libc.so.6 =\u0026gt; /lib64/libc.so.6 (0x00007f9571846000) libz.so.1 =\u0026gt; /lib64/libz.so.1 (0x00007f9571d0f000) libdl.so.2 =\u0026gt; /lib64/libdl.so.2 (0x00007f9571d0a000) libpthread.so.0 =\u0026gt; /lib64/libpthread.so.0 (0x00007f9571ce9000) /lib64/ld-linux-x86-64.so.2 (0x00007f9571dd6000) and then it\u0026rsquo;s very easy find the missing RDEPEND that must be fixed in the Macaroni repository:
$\u0026gt; luet q belongs libpopt.so.0 dev-libs/popt-1.16 In this case the library popt is missing on runtime_deps and you need to install it directly:
$\u0026gt; luet i dev-libs/popt üöÄ Luet 0.35.1-geaaru-g2d63605bff9ddee0171f4769c4e956317b910b56 2023-03-17 03:07:06 UTC - go1.20.2 üè† Repository: geaaru-repo-index Revision: 5 - 2023-03-18 10:12:28 +0000 UTC üè† Repository: macaroni-commons-testing Revision: 137 - 2023-03-19 11:49:39 +0000 UTC üè† Repository: macaroni-funtoo-systemd-dev Revision: 451 - 2023-02-13 09:25:49 +0000 UTC üè† Repository: mottainai-testing Revision: 80 - 2023-03-17 21:34:59 +0000 UTC üß† Solving install tree... üç¶ [ 1 of 1] [N] dev-libs/popt::macaroni-funtoo-systemd-dev - 1.16 üíÇ Checking for file conflicts... ‚úîÔ∏è No conflicts found (executed in 285 ¬µs). Do you want to continue with this operation? [y/N]: y üöö Downloading 1 packages... üì¶ [ 1 of 1] dev-libs/popt::macaroni-funtoo-systemd-dev - 1.16 # downloaded ‚úî üß† Sorting 1 packages operations... üçª Executing 1 packages operations... üç∞ [ 1 of 1] dev-libs/popt::macaroni-funtoo-systemd-dev - 1.16 # installed ‚úî And then no more issues available:
$\u0026gt; whip h linking.check Checking directory /usr/lib64... Checking directory /usr/lib... Checking directory /usr/bin... Checking directory /bin... Checking directory /usr/sbin... Checking directory /usr/libexec... [linking.check] Completed correctly. postgresql.postgres_setup: this hook permit to setup Postgres SQL setup with the SLOT selected. It\u0026rsquo;s available on lxd-compose-galaxy a project that set up a standalone Postgresql server based on configuration variables that will be described very soon on the LXD Compose website.
The whip-catalog is a YAML files catalog with bash/sh commands. If you find something missing or you have some idea about new hooks, please open a PR.
What next? Well, few is changed after the release 23.03 so, the open points are the same but we will push forward with a major priority the documentation. I hope that we will cover a good documentation part for the next release. Stay tuned!
We waiting for you We waiting for you in our Discord Server.
Thanks Many thanks to all Funtoo devs that are the sap of all this and to all people that helps us with testing and donations.
Support Us Any user that wants to support our work for Macaroni could do this through the Github Sponsor.
`}),e.add({id:4,href:"/blog/phoenix-23.03/",title:"Macaroni OS Phoenix 23.03 is out!",section:"Blog",content:`Finally, after two months of hard work, the release Phoenix 23.03 is out and is the first Desktop release under the new macaronios.org domain.
In these two months, we had to follow infrastructure issues (broken hard disks) and create the new Macaroni network. This is one of the reasons we have skipped the release of February.
We want to thank again the GARR consortium that is now our primary mirror under our CDN and this will permit in the next weeks to expose again the ISOs download page and our LXD images.
This release doesn\u0026rsquo;t expose extraordinary packages or upgrades but is a big milestone for us because a lot of our work is under the hood and will be better understood by the users in the next months when another big target will be reached: the creation of the Macaroni documentation.
A big milestone The first major target reached is the first big rewrite of the Macaroni PMS tool luet that now:
has a new solver completely rewritten that now respects repositories priorities, it\u0026rsquo;s 100x fast and consumes few memory. The only limit at the moment is that until the luet-build binary will be rewritten the repository metadata will be yet with a big YAML file that must be exploded at least one time when is called the luet repo update command but this will be fixed in the near future. This is been an important result to begin ARM integration
the integration of the new solver has permitted the creation of the mask packages feature. It works in a similar way to Funtoo portage and will be described in detail in the Macaroni documentation in the near future. This is an important result because will permit to supply multiple versions of the same package and using the mask feature to hide a specific version to a target rootfs. You can think of a package like NVIDIA drivers where legacy cards need to have a specific version, or again if a user wants to create their packages and hide the Macaroni version, etc.
the provides support is been reviewed to permit a good means to manage correctly packages that are replaced. The correct way to use provide is to define a specific version in the provides and not a selector. For example:
provides: - category: cat name: foo version: 0.1.0 the install command now doesn\u0026rsquo;t try to upgrade automatically the system; it just tries to resolve the dependencies and the packages selected and install them. This will permit to install of specific packages also when there are upgrades available.
the luet now permits to select of packages only by name. I really love this feature, because permits the reduction of the text written and speeds up the installation and research. For example:
$\u0026gt; luet i app-emulation/lxd-compose becomes:
$\u0026gt; luet i lxd-compose luet repo list command has now a new look and option:
$\u0026gt; luet repo list --urls geaaru-repo-index Geaaru Repository index Revision 4 - 2023-02-25 10:32:39 +0000 UTC Priority 1 - Type http Urls: * https://raw.githubusercontent.com/geaaru/repo-index/gh-pages macaroni-commons-dev Macaroni OS Commons Development Repository Revision 131 - 2023-03-08 22:17:57 +0000 UTC Priority 10 - Type http Urls: * https://dev.macaronios.org/macaroni-commons-dev/ macaroni-commons-testing Macaroni OS Commons Testing Repository Priority 20 - Type http Urls: * https://dl.macaronios.org/repos/macaroni-commons-testing/ * https://cdn2.macaronios.org/repos/macaroni-commons-testing/ * https://macaronios.mirror.garr.it/repos/macaroni-commons-testing/ the original solvers are no more available and will be dropped from the code when also the luet-build binary will be rewritten.
The upgrades/installs output is now more clear with the cons that for now the download process is not parallel. This fixes the progress bar issues. We are working on following an output similar to portage that will be available in the next release 0.35.0.
We have begun to work on commands that permit configuring subsets but they are to be complete.
it\u0026rsquo;s now available a new command luet query orphans that permits retrieving all packages no more available in the enabled repository.
In general, now you can control with luet every action and package of your system. If there are issues in the new solver you aren\u0026rsquo;t blocked, you can manually fix issues with hidden (and for expert users) commands luet miner that will be described in the documentation.
This is what is been said from an user on testing the new luet binary:
Feels like you took a Ford Fiesta and turned it into a Ferrari
Really, thanks for this comment that will get me more power to go ahead.
A lot of new improvements and features are in our backlog.
An important thing that is not yet available is the possibility to downgrade the packages if I user wants to convert a rootfs updated with a testing repository to a stable repository. But is in our plan to add this feature soon.
ATTENTION: Due to all these changes, my suggestion is to upgrade this time the luet binary manually with a download from the site and the follow what is been described in the new FAQ section of the website.
$\u0026gt; sudo wget -O /usr/bin/luet https://github.com/geaaru/luet/releases/download/v0.34.2-geaaru/luet-v0.34.2-geaaru-Linux-x86_64 $\u0026gt; sudo chmod a+x /usr/bin/luet We will improve this operation in the near future.
macaronictl gets power! The luet rewritten is not the only new improvement, the management CLI of Macaroni OS, macaronictl gets more power:
macaronictl env-update is been completely written in Golang following the same Funtoo/Gentoo logic. This permits to have Macaroni OS systems to the need to install the sys-apps/portage package. This migration is not yet completely completed but will be so in the next release.
macaronictl tool has a new etc-update command written in Golang that uses the same /etc/etc-update.conf config and it implements a similar logic to the Portage etc-update command.
macaronictl tool has a new kernel availables command that permit to retrieve all kernel available from the enabled repositories and supply some metadata:
$\u0026gt; macaronictl kernel availables --lts | KERNEL | KERNEL VERSION | PACKAGE VERSION | EOL | LTS | RELEASED | TYPE | |----------|----------------|-----------------|-----------|------|------------|---------| | macaroni | 4.14.305 | 4.14.305 | Jan, 2024 | true | 2017-11-12 | vanilla | | macaroni | 5.10.168 | 5.10.168 | Dec, 2026 | true | 2020-12-13 | vanilla | | macaroni | 5.15.94 | 5.15.94 | Oct, 2026 | true | 2021-10-31 | vanilla | | macaroni | 5.4.231 | 5.4.231 | Dec, 2025 | true | 2019-11-24 | vanilla | | macaroni | 6.1.12 | 6.1.12 | Dec, 2026 | true | 2022-12-11 | vanilla | This will help with the feature that will be available in the next future to switch between kernels.
Funtoo integration (experimental) In the middle of all the new implementations we have released a new release of the luet-portage-converter tool that is used normally to generate automatically updates from our luet specs.
I hope that this will be a lovely experience for the Funtoo users.
I will leave users with a bit of suspense until I will write the documentation in the next weeks but the new luet-portage-converter sync command will permits:
convert a Funtoo system to a Macaroni OS and get updates from Macaroni or restore the broken system.
sync with the Macaroni PMS the packages installed with emerge to the luet database and/or sync packages previously installed with luet and then upgraded with emerge.
Obviously, to use these features is needed a Macaroni OS with subsets portage and devel enabled.
ATTENTION: This new command is pretty experimental and must be used carefour.
Domain migration again I\u0026rsquo;m sorry but after the integration of the Consortium GARR I reviewed the stable domains with a CDN chain. I added in the FAQ section of the website some tips about easily upgrading the repositories. I hope that things will be more stable now but using free services has some cons.
What\u0026rsquo;s new This new release has some interesting updates:
LXD 5.11 and LXC 5.0.2
Libreoffice 7.5.0.3
Firefox 1.109.0.1
Brave 1.48.158
Grafana 9.3.6 and Prometheus 2.42.0
Blender 3.4.1
ZFS 2.1.9
KDE Framework 5.85.5 and KDE Plasma 5.22.5
Openshot video editing tool updated to release 2.6.1
Cinelerra is been dropped. The website has tons of forks without a tag and it seems hard to maintain.
Grub 2.04 with patch related to the use of new e2fsprogs v.1.47.0. See debian issue.
Open VMtools 12.1.5
All kernels modules are been renamed following the naming convention: kernel-\u0026lt;kernel-branch\u0026gt; as category. This will help searching and macaronictl integration. Always related to the kernel, the string LTS is been removed from kernel packages. The LTS information is now available over the package annotations.
See the release page for the detail of all updates.
What next? Hereinafter, our hot points for the next releases:
Drop support to Python 2.7 from Phoenix and leave Python 3.7 only. We will upgrade to Python 3.9 later.
Continue to work begun on writing documentation and FAQ for users.
Begin the rewrite of luet-build binary and improve look\u0026amp;feel of the luet output.
Add the new ISOs webpage and prepare the release of the ISO 23.03. We need to wait for the sync of the GARR mirror and the propagation.
Add new features to luet-portage-converter to manage multiple versions of the same package.
Add new features to macaronictl tool
Add Macaroni OS LXD images to images.linuxcontainers.org.
We waiting for you We waiting for you in our Discord Server.
Thanks Many thanks to all Funtoo devs that are the sap of all this and to all people that helps us with testing and donations.
Support Us Any user that wants to support our work for Macaroni could do this through the Github Sponsor.
`}),e.add({id:5,href:"/blog/new-domain/",title:"macaronios.org is here!",section:"Blog",content:`After 1 year of incubation under the Funtoo Foundation, the Macaroni OS has now its domain macaronios.org and its infrastructure. Really, thanks to the Funtoo Foundation and Daniel Robbins for its support that helped to Macaroni OS to be here today.
From the infrastructure aspect nothing is changed, all compilation tasks are executed over MottainaiCI cluster but with less resource power for now.
We hope that the community will help us to maintain the infrastructure costs with donations over our Github Sponsor or with VMs donations for compilation.
New Github Organization With the review of the Macaroni OS domain, it\u0026rsquo;s been created a new and independent GitHub organization macaroni-os and migrated all Git repositories there.
Domain migration and users impacts The old domain *.macaroni.funtoo.org will expire soon, the existing users that are yet with the repository geaaru-repo-index configured with the Github URL will receive automatically the upgrade of the repository/* packages.
$# luet repo update ‚ÑπÔ∏è Repository: geaaru-repo-index Priority: 1 Type: http Revision: 2 ‚ÑπÔ∏è Repository: macaroni-commons Priority: 2 Type: http Revision: 117 ‚ÑπÔ∏è Repository: macaroni-funtoo Priority: 2 Type: http Revision: 620 ‚ÑπÔ∏è Repository: mottainai-stable Priority: 1 Type: http Revision: 55 $# luet upgrade ‚ÑπÔ∏è Repository: geaaru-repo-index Priority: 1 Type: http Revision: 2 ‚ÑπÔ∏è Repository: macaroni-commons Priority: 2 Type: http Revision: 117 ‚ÑπÔ∏è Repository: macaroni-funtoo Priority: 2 Type: http Revision: 620 ‚ÑπÔ∏è Repository: mottainai-stable Priority: 1 Type: http Revision: 55 ü§î Computing upgrade, please hang tight... üí§ üåè Using solver implementation solverv2 . üåé Completed compute upgrade analysis in 23323842 ¬µs. +-------------------------------------+-------------+-------------+-------------------+---------+ | PACKAGE | NEW VERSION | OLD VERSION | REPOSITORY | LICENSE | +-------------------------------------+-------------+-------------+-------------------+---------+ | repository/geaaru-repo-index | 20230118 | 20220819 | geaaru-repo-index | | | repository/macaroni-commons | 20230118 | 20211210 | geaaru-repo-index | | | repository/macaroni-funtoo | 20230118 | 20211210 | geaaru-repo-index | | | repository/mottainai-stable | 20230118 | 20220318 | geaaru-repo-index | | +-------------------------------------+-------------+-------------+-------------------+---------+ By going forward, you are also accepting the licenses of the packages that you are going to install in your system. Do you want to continue with this operation? [y/N]: Instead, the users with the new configuration could receive the new repositories address on change the content of the the /etc/luet/luet.yaml (if the geaaru-repo-index is configured inline and not through the repository config file or editing the file /etc/luet/repos.conf.d/geaaru-repo-index.yml with this content:
- name: \u0026#34;geaaru-repo-index\u0026#34; description: \u0026#34;Geaaru Repository index\u0026#34; type: \u0026#34;http\u0026#34; enable: true cached: true priority: 1 urls: - \u0026#34;https://cdn.macaronios.org/mottainai/geaaru-repo-index\u0026#34; - \u0026#34;https://raw.githubusercontent.com/geaaru/repo-index/gh-pages\u0026#34; After that to get the new updates just run:
$# macaronictl etc-update The map with the changes of the URL is available here.
What next? Hereinafter, our hot points for the near future:
We working to complete the review of the luet installer and his algorithms to reduce the memory usage, rewrite the solver and introduce the packages mask concept. This will permit us to begin on working a Macaroni release for ARM (Banana PI, Raspberry).
The terragon release will drop the support to Python 3.7 to leave active only Python 3.9.
Create a full and clear documentation of all Macaroni features.
When the first two points will be reached will start the integration of macaroni-ffs project related to the Funtoo FFS technology and permit users to have easy the toolchains for compilation
A lot of things are in our plan, stay tuned!
Additional thanks On setup of the new infrastructure, I want to thank the all people who helped me in setting up the Cloudflare services in about two days. Really, thanks.
`}),e.add({id:6,href:"/iso/",title:"Macaroni Download",section:"Macaroni OS",content:` ISO Following the idea to share the right ISO for the right user we want to supply some indications that help users on choose the ISO for their needs.
We use these labels in the hereinafter ISOs description with these mean:
Label Description newbie Ideal for new users and/or not developers that don't need a compilator. student Ideal for students that searching for school stuff. developer Ideal for developers that need a compilator and includes. tester Ideal for users that want help Macaroni with testing. funtoo Ideal for Funtoo/Gentoo users want to have Portage metadata on Macaroni. services Ideal for System Engineers, Developers users who want to use Macaroni to set up services. Choice your ISO At the moment, all our ISOs are based on Phoenix release. If you want to install Macaroni OS on your computer and/or laptop you need to use the Release ISOs. The weekly ISO are for testing.
All of the ISOs use Calamares as Installer.
The password of the macaroni user is macaroni.
Name Labels Description Macaroni Funtoo Phoenix Gnome newbie student A minimal Gnome Desktop ISO to install Macaroni Gnome with Calamares or to recovery an exiting system. Macaroni Funtoo Phoenix Gnome Live newbie student Ready to use ISO with different tools for Office/School/Graphic that could be installed too. Macaroni Funtoo Phoenix XFCE newbie student A XFCE Desktop ISO to install Macaroni XFCE with Calamares. Ideal for XFCE fans and for old computers. Macaroni Funtoo Phoenix Gnome Devel funtoo developer student A minimal Gnome Desktop ISO where are enabled the subsets portage and devel. Macaroni Funtoo Phoenix XFCE Devel funtoo developer student A XFCE Desktop ISO to install Macaroni XFCE with Calamares where are enabled the subsets portage and devel. Ideal for XFCE fans and for old computers. Macaroni Funtoo Phoenix Gnome Testing Live tester Macaroni Gnome Live ISO with testing and/or develop repositories. Macaroni Funtoo Phoenix XFCE Testing Live tester Macaroni XFCE Live ISO with testing and/or develop repositories. Macaroni Funtoo Phoenix Server services Macaroni Server release with a minimal number of packages and with LXD. Normally used in server or VM. Macaroni Funtoo Phoenix Server Devel services funtoo developer Macaroni Server release with the subsets \`portage\` and \`devel\` enabled. Installing needed packages could be used Portage. Our last release is 23.03.02 and it uses kernel 5.10.174 for Server ISOs and 6.1.18 for the others.
`}),e.add({id:7,href:"/partners/garr/",title:"Consortium GARR",section:"Partners",content:`GARR is the ultra-broadband network dedicated to the Italian research and education community. Its main objective is to provide high-performance connectivity and to develop innovative services for the daily activities of researchers, professors and students as well as for international collaboration.
GARR network is designed and managed by Consortium GARR, a non-profit association founded under the auspices of the Ministry of Education, University and Research. The members are¬†CNR,¬†ENEA,¬†INAF, INFN, INGV and¬†CRUI Foundation, representing all Italian universities.
The Consortium GARR supply our primary mirror at macaronios.mirror.garr.it.
Thank you very much for your support.
`}),e.add({id:8,href:"/docs/getting-started/",title:"Getting Started",section:"Macaroni Linux OS",content:` Getting Started # Using docker container # $\u0026gt; docker run --rm -ti macaronios/funtoo-minimal 4e02286e61d3 / # luet repo update ‚†à Downloaded repository.yaml of 0.00 MB ( 0.00 MiB/s ) Downloaded tree.tar.gz of 0.00 MB ( 0.00 MiB/s ) Downloaded repository.meta.yaml.tar.gz of 0.00 MB ( 0.00 MiB/s ) üè† Repository geaaru-repo-index revision: 1 - 2021-12-12 20:42:48 +0000 UTC ‚ÑπÔ∏è Repository: geaaru-repo-index Priority: 1 Type: http Revision: 1 Downloaded repository.yaml of 0.00 MB ( 0.00 MiB/s ) Downloaded tree.tar.zst of 0.00 MB ( 0.00 MiB/s ) Downloaded repository.meta.yaml.tar.zst of 5.57 MB ( 2.48 MiB/s ) üè† Repository macaroni-commons revision: 23 - 2022-01-11 16:08:20 +0000 UTC ‚ÑπÔ∏è Repository: macaroni-commons Priority: 2 Type: http Revision: 23 Downloaded repository.yaml of 0.00 MB ( 0.00 MiB/s ) Downloaded tree.tar.zst of 0.53 MB ( 0.44 MiB/s ) Downloaded repository.meta.yaml.tar.zst of 6.04 MB ( 6.78 MiB/s ) üè† Repository macaroni-funtoo revision: 77 - 2022-01-16 08:09:51 +0000 UTC ‚ÑπÔ∏è Repository: macaroni-funtoo Priority: 2 Type: http Revision: 77 Downloaded repository.yaml of 0.00 MB ( 0.00 MiB/s ) Downloaded tree.tar.zst of 0.00 MB ( 0.01 MiB/s ) Downloaded repository.meta.yaml.tar.zst of 0.27 MB ( 0.67 MiB/s ) üè† Repository mottainai-stable revision: 1 - 2022-01-14 15:54:04 +0000 UTC ‚ÑπÔ∏è Repository: mottainai-stable Priority: 1 Type: http Revision: 1 4e02286e61d3 / # luet search pci sys-apps/pciutils-3.6.2+3 x11-libs/libpciaccess-0.16+3 4e02286e61d3 / # luet i sys-apps/pciutils ... 4e02286e61d3 / # luet cleanup Cleaned: 5 packages. Using an LXD container # The Funtoo \u0026amp; Macaroni teams supply their LXD images over a Simplestreams Server. To configure the LXD remote just run this command:
$\u0026gt; lxc remote add macaroni https://macaronios.mirror.garr.it/images/lxd-images --protocol simplestreams --public and then check the available images:
$\u0026gt; lxc image list macaroni: Knows Issues # The current status of the Macaroni OS is related to its PMS that is under heavy development and it doesn\u0026rsquo;t yet support the requirements needed for a Desktop environment very well and is unstable.
The main issue is that the current upgrade process executes an uninstall of all packages to upgrade before beginning the installation of the new packages and without checking if there are changes. This may sometimes generate issues with X.
So, for the moment, we suggest that you upgrade a Desktop environment from terminal (just switch with CTRL+ALT+F1).
If used in a Container environment instead, that could be a valid and stable solution. In a container, the upgrade process is less important because, usually, the container is dropped and recreated from a new image. In this condition you could create a very optimized container thanks to the subsets feature available in the fork release of luet.
Macaroni doesn\u0026rsquo;t use the Funtoo ebuild in the installation phase, this means that the post-install scripts must be managed from the luet finalizer. In particular, the whip tool has been created to help in this job, and the whip-catalog to store all the hooks to call. For any Desktop environment, the post-install hooks could be configured to run correctly in all packages.
The whip tool can be run and the catalog can be displayed with this command:
$\u0026gt; whip list --table +-----------+---------------------+-----------------------------------------------------------------------+ | FILE | NAME | DESCRIPTION | +-----------+---------------------+-----------------------------------------------------------------------+ | gtk | mime_update_db | Update mime cache. | | gtk | gtk_update_icons | Update Gnome icons cache. | | gtk | glib_update_schemas | Update Glib Schemas. | | texlive | texlive_postinst | Setup texlive files. | | | | | | texlive | texlive_rebuild_fmt | Rebuild TeX formats. | | | | | | dbus | dbus_gen_machineid | Setup /etc/machine-id. | | eudev | eudev_setup | Validate Eudev setup. | | | | | | fonts | create_scale | Create fonts.scale file, used by the old server-side fonts subsystem. | | fonts | create_fonts_dir | Create fonts.dir file, used by the old server-side fonts subsystem. | | | | | | fonts | setup_all_fonts | Setup fonts. | | | | | | openrc | openrc_setup | Setup core OpenRC services. | | | | | | perl | postinst | Setup perl binaries links. | | | | | | polkit | polkit_setup | Setup env for polkitd. | | | | | | eclass_db | db_cleanup | Clean libdb* links and includes. | | | | | | eclass_db | db_fix_so | Fix links of /usr/include/db.h and .so | | | | | | elogind | elogind_setup | Check elogind setup. | | | | | | gdb | setup | Setup gdm files. | +-----------+---------------------+-----------------------------------------------------------------------+ A hook is callable with the hook subcommand:
$\u0026gt; whip hook gtk.gtk_update_icons gtk.glib_update_schemas Upgrade # Just:
$\u0026gt; luet repo update $\u0026gt; luet upgrade luet follow the same Funtoo/Gentoo idea about the configuration files, in particolar, if the file to install is related to a proctect directory and the file is already present then luet creates the file _cfg0001_\u0026lt;file\u0026gt; that could be merged with the classic etc-update or other similar software.
Search Packages # The current search engine uses regex to find the category/name string. The subcommand is callable with search or s.
$\u0026gt; luet search lxd-compose app-emulation/lxd-compose-0.16.3 or as a table:
$\u0026gt; luet s lxd-compose --table +---------------------------+---------+------------------+---------+ | PACKAGE | VERSION | REPOSITORY | LICENSE | +---------------------------+---------+------------------+---------+ | app-emulation/lxd-compose | 0.16.3 | mottainai-stable | GPL-3.0 | +---------------------------+---------+------------------+---------+ or as a JSON with metadata:
$\u0026gt; luet s lxd-compose -o json | jq { \u0026#34;packages\u0026#34;: [ { \u0026#34;License\u0026#34;: \u0026#34;GPL-3.0\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;app-emulation\u0026#34;, \u0026#34;files\u0026#34;: [ \u0026#34;usr/bin/lxd-compose\u0026#34; ], \u0026#34;hidden\u0026#34;: false, \u0026#34;name\u0026#34;: \u0026#34;lxd-compose\u0026#34;, \u0026#34;repository\u0026#34;: \u0026#34;mottainai-stable\u0026#34;, \u0026#34;target\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.16.3\u0026#34; } ] } or search between installed packages:
$\u0026gt; luet s lxd --installed Install a package # The subcommand is callable with install or i.
$\u0026gt; luet i app-emulation/lxd-compose Uninstall a package # The subcommand is callable with uninstall or rm.
$\u0026gt; luet rm app-emulation/lxd-compose Show files of a package # $\u0026gt; luet q files app-emulation/lxd-compose usr/bin/lxd-compose or as JSON array:
$\u0026gt; luet q files app-emulation/lxd-compose -o json [\u0026#34;usr/bin/lxd-compose\u0026#34;] or as YAML:
$\u0026gt; luet q files app-emulation/lxd-compose -o yaml - usr/bin/lxd-compose `}),e.add({id:9,href:"/docs/",title:"Macaroni Linux OS",section:"Macaroni OS",content:` Why Macaroni OS? # Supply a binary distro that follow the Sabayon OS ideas and permit to convert the rootfs to a pure Funtoo rootfs in a fast way if it\u0026rsquo;s needed for specific customizations or to help the distro fix issues.
You know, the world is buggy, it\u0026rsquo;s better to have a way to check and resolve the problems fast.
In the middle of the story, Macaroni OS wants to be an optimized distro for LXD containers, docker and singularity.
So, in summary, these are the core targets of the Macaroni OS Linux:
Container Optimized Through the subsets feature of the Luet tool will make it easy to have a thin rootfs and customize the files installed from a package and run CD/CI tasks and/or pipeline fast. Automation Share a way to build packages without a giant infrastructure but with the pros of CD/CI. Macaroni developer teams share how it\u0026rsquo;s possible to do this through lxd-compose or with a more scalable solution through Mottainai Server. Revolution Hotspot To be a good start point for revolutions within the Linux OS space with the synergy of the Funtoo Team. Macaroni Releases # Following the core targets just described in Macaroni there are different releases:
Release Codename Funtoo Release Description Phoenix 1.4-prime The core release based on OpenRC/SysVinit for Server and Desktop Eagle 1.4-prime + patches A Funtoo SystemD release. The idea is to use it only for Server target and as experimental base rootfs where we will develop an alternative tool that will replace SystemD probably written in Golang but that will be compatible with part of SystemD files. In this moment, this release has only Container based targets and Server services. Terragon next The next release based on OpenRC/SysVinit Funtoo system with Container oriented use flags. Macaroni OS Phoenix # The Phoenix release is the first release created and the only release at the moment for the Desktop. The codename phoenix is related to the immortal bird associated with Greek mythology that cyclically regenerates or is otherwise born again. Associated with the sun, a phoenix obtains new life by rising from the ashes of its predecessor. This is the reason I choose this name: to describe a new beginning and to remember us that also when others try to stop a dream, with the commitment it\u0026rsquo;s possible reborn and goes ahead.
In phoenix it\u0026rsquo;s used the OpenRC as an init system, it\u0026rsquo;s based on Funtoo 1.4-prime and so:
* GCC 9.2.0 * Glibc 2.33 * Python 3.7 (2.7 is available but will be dropped in the near future) * LLVM 11 The desktop environments available in this release are:
Desktop Environment Version Status ISO Available Gnome 3.36 stable yes XFCE 4.16 stable yes Enlightenment 0.25.4 experimental no KDE 5.22 experimental no As the first release a lot of things could be improved but it\u0026rsquo;s also true that the Desktop is something complex that requires a lot of effort and computing. We will work to clean up things and speed up the building phase that now it\u0026rsquo;s very expensive, in particular for the build of the funtoo-base seed based on Gnome Funtoo stage3.
Macaroni OS Eagle # The Eagle release is born to be used in container, it\u0026rsquo;s based on Funtoo 1.4-prime with patches to integrate SystemD as an init system.
Without the need to support the Desktop, the release is been compiled with server-oriented and X-less use flags. This permits to have core packages fewer dependencies and more optimized for containers.
Like phoenix also eagle is based on Funtoo 1.4-prime and so:
* GCC 9.2.0 * Glibc 2.33 * Python 3.7 (2.7 is available but will be dropped in the near future) * LLVM 11 Macaroni OS Terragon # The Terragon release is born to be used in container and it\u0026rsquo;s based on Funtoo Next that is the more innovative release of Funtoo.
Like for eagle release the terragon release is been compiled with server-oriented and X-less use flags.
Based on Funtoo Next some core packages are:
* GCC 11.3.0 * Glibc 2.33 * Python 3.9 `}),e.add({id:10,href:"/docs/story/",title:"The Story",section:"Macaroni Linux OS",content:`I write this article because I think that it\u0026rsquo;s needed to understand the story to improve things and instead follow the original choices when they make sense.
The Origins # After a lot of years working with opensource packages, I can for sure to said that there are so many possibilities to configure our systems that it isn\u0026rsquo;t sufficient one life to test all combinations.
But the power to choose is one of the more powerful things that the open-source world gift and the same packages often are created with the possibility to compile and build them in different ways. Also, the compiler used to compile and build a package supplies a lot of options to compile, optimize and validate the code (for example using -O2 or -O3 options) and this introduces again others combinations.
On August 21, 1994, Jordan Hubbard committed his port make macros to the FreeBSD CVS repository, and the FreeBSD ports is born. The FreeBSD ports through Makefile, supplies a way to define how it\u0026rsquo;s possible to compile a package and what are the knobs (or options) available to customize the compilation. So, the FreeBSD ports defines a way to supply metadata with the rules for compiling packages and optionally customize the configure options.
Following the concept to optimize the packages of a system based on specific hardware optimization in December 1999, Daniel Robbins initially created Gentoo Linux (previously called Enoch Linux). Daniel Robbins and the other contributors experimented with a fork of GCC known as EGCS, developed by Cygnus Solutions. At this point, \u0026ldquo;Enoch\u0026rdquo; was renamed \u0026ldquo;Gentoo\u0026rdquo; Linux (the Gentoo species is the fastest-swimming penguin). The modifications to EGCS eventually became part of the official GCC (version 2.95), and other Linux distributions experienced similar speed increases. After problems with a bug on his own system, Robbins halted Gentoo development and switched to FreeBSD for several months, later saying, \u0026ldquo;I decided to add several FreeBSD features to make our autobuild system (now called Portage) a true next-generation ports system\u0026rdquo;.
Gentoo Linux 1.0 was released on March 31, 2002. In 2004, Robbins set up the non-profit Gentoo Foundation, transferred all copyrights and trademarks to it, and stepped down as chief architect of the project.
Gentoo is a source-based distribution with a repository describing how to build the packages, and adding instructions to build on different machine architectures. In particular, the rules about how build a package are defined inside Ebuild files and on Eclasses files which are both files using Bash language. The Portage written in Python is the Package Manager System that calculates dependencies and the order to build using the underlying rules read from the Ebuild and Eclass files.
What are called knobs on FreeBSD in Gentoo are called USE flags.
Inside an ebuild there are some important pieces of information in addition to the rules about how to compile a package, pieces of information defined inside Bash variables:
IUSE: The list of the USE flags that an user could select or not to configure the build process.
DEPEND, PDEPEND, and BDEPEND: these variables contain the list of the packages needed to compile the package
RDEPEND: contains the list of the packages needed at runtime to use the package.
These pieces of information with others are what is called the metadata of the package and for an installed package are visible under the directory /var/db/pkg.
In Macaroni, like in both binary luet-portage-converter and luet we use code available in the pkgs-checker tool that I written in Golang that between the rest, it has a way to retrieve package metadata and convert them to JSON:
$\u0026gt; sudo pkgs-checker portage metadata app-emulation/lxd -j | jq [ { \u0026#34;package\u0026#34;: { \u0026#34;name\u0026#34;: \u0026#34;lxd\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;app-emulation\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;5.12\u0026#34;, \u0026#34;slot\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Condition\u0026#34;: 5, \u0026#34;repository\u0026#34;: \u0026#34;geaaru-kit\u0026#34;, \u0026#34;use_flags\u0026#34;: [ \u0026#34;-apparmor\u0026#34;, \u0026#34;ipv6\u0026#34;, \u0026#34;-nios2\u0026#34;, \u0026#34;nls\u0026#34;, \u0026#34;-sh\u0026#34; ], \u0026#34;license\u0026#34;: \u0026#34;Apache-2.0 BSD BSD-2 LGPL-3 MIT MPL-2.0\u0026#34; }, \u0026#34;iuse\u0026#34;: [ \u0026#34;apparmor\u0026#34;, \u0026#34;ipv6\u0026#34;, \u0026#34;nls\u0026#34;, \u0026#34;kernel_linux\u0026#34; ], \u0026#34;iuse_effective\u0026#34;: [ \u0026#34;alpha\u0026#34;, \u0026#34;amd64\u0026#34;, \u0026#34;amd64-fbsd\u0026#34;, \u0026#34;amd64-linux\u0026#34;, \u0026#34;apparmor\u0026#34;, \u0026#34;arm\u0026#34;, \u0026#34;arm-linux\u0026#34;, \u0026#34;arm64\u0026#34;, \u0026#34;elibc_AIX\u0026#34;, \u0026#34;elibc_Cygwin\u0026#34;, \u0026#34;elibc_Darwin\u0026#34;, \u0026#34;elibc_DragonFly\u0026#34;, \u0026#34;elibc_FreeBSD\u0026#34;, \u0026#34;elibc_HPUX\u0026#34;, \u0026#34;elibc_Interix\u0026#34;, \u0026#34;elibc_NetBSD\u0026#34;, \u0026#34;elibc_OpenBSD\u0026#34;, \u0026#34;elibc_SunOS\u0026#34;, \u0026#34;elibc_Winnt\u0026#34;, \u0026#34;elibc_bionic\u0026#34;, \u0026#34;elibc_glibc\u0026#34;, \u0026#34;elibc_mingw\u0026#34;, \u0026#34;elibc_mintlib\u0026#34;, \u0026#34;elibc_musl\u0026#34;, \u0026#34;elibc_uclibc\u0026#34;, \u0026#34;hppa\u0026#34;, \u0026#34;ia64\u0026#34;, \u0026#34;ipv6\u0026#34;, \u0026#34;kernel_AIX\u0026#34;, \u0026#34;kernel_Darwin\u0026#34;, \u0026#34;kernel_FreeBSD\u0026#34;, \u0026#34;kernel_HPUX\u0026#34;, \u0026#34;kernel_NetBSD\u0026#34;, \u0026#34;kernel_OpenBSD\u0026#34;, \u0026#34;kernel_SunOS\u0026#34;, \u0026#34;kernel_Winnt\u0026#34;, \u0026#34;kernel_freemint\u0026#34;, \u0026#34;kernel_linux\u0026#34;, \u0026#34;m68k\u0026#34;, \u0026#34;m68k-mint\u0026#34;, \u0026#34;mips\u0026#34;, \u0026#34;nios2\u0026#34;, \u0026#34;nls\u0026#34;, \u0026#34;ppc\u0026#34;, \u0026#34;ppc-aix\u0026#34;, \u0026#34;ppc-macos\u0026#34;, \u0026#34;ppc64\u0026#34;, \u0026#34;ppc64-linux\u0026#34;, \u0026#34;prefix\u0026#34;, \u0026#34;prefix-chain\u0026#34;, \u0026#34;prefix-guest\u0026#34;, \u0026#34;riscv\u0026#34;, \u0026#34;riscv32\u0026#34;, \u0026#34;riscv64\u0026#34;, \u0026#34;s390\u0026#34;, \u0026#34;sh\u0026#34;, \u0026#34;sparc\u0026#34;, \u0026#34;sparc-fbsd\u0026#34;, \u0026#34;sparc-solaris\u0026#34;, \u0026#34;sparc64-solaris\u0026#34;, \u0026#34;userland_BSD\u0026#34;, \u0026#34;userland_GNU\u0026#34;, \u0026#34;x64-cygwin\u0026#34;, \u0026#34;x64-macos\u0026#34;, \u0026#34;x64-solaris\u0026#34;, \u0026#34;x86\u0026#34;, \u0026#34;x86-cygwin\u0026#34;, \u0026#34;x86-fbsd\u0026#34;, \u0026#34;x86-linux\u0026#34;, \u0026#34;x86-macos\u0026#34;, \u0026#34;x86-solaris\u0026#34;, \u0026#34;x86-winnt\u0026#34; ], \u0026#34;use\u0026#34;: [ \u0026#34;amd64\u0026#34;, \u0026#34;elibc_glibc\u0026#34;, \u0026#34;ipv6\u0026#34;, \u0026#34;kernel_linux\u0026#34;, \u0026#34;nls\u0026#34;, \u0026#34;userland_GNU\u0026#34; ], \u0026#34;eapi\u0026#34;: \u0026#34;7\u0026#34;, \u0026#34;cxxflags\u0026#34;: \u0026#34;-mtune=generic -O2 -pipe\u0026#34;, \u0026#34;cflags\u0026#34;: \u0026#34;-mtune=generic -O2 -pipe\u0026#34;, \u0026#34;ldflags\u0026#34;: \u0026#34;-Wl,-O1 -Wl,--sort-common -Wl,--as-needed\u0026#34;, \u0026#34;chost\u0026#34;: \u0026#34;x86_64-pc-linux-gnu\u0026#34;, \u0026#34;bdepend\u0026#34;: \u0026#34;\u0026gt;=dev-lang/go-1.18 \u0026gt;=sys-kernel/linux-headers-4.15 sys-devel/gettext \u0026gt;=app-portage/elt-patches-20170815 !\u0026lt;sys-devel/gettext-0.18.1.1-r3 || ( \u0026gt;=sys-devel/automake-1.16.1:1.16 \u0026gt;=sys-devel/automake-1.15.1:1.15 ) \u0026gt;=sys-devel/autoconf-2.69 \u0026gt;=sys-devel/libtool-2.4 \u0026gt;=dev-lang/go-1.10\u0026#34;, \u0026#34;rdepend\u0026#34;: \u0026#34;app-arch/xz-utils app-arch/lz4 \u0026gt;=app-emulation/lxc-4.0.6 dev-lang/tcl dev-libs/libuv dev-libs/lzo \u0026gt;=dev-util/xdelta-3.0 net-dns/dnsmasq[dhcp,ipv6] net-firewall/ebtables net-firewall/iptables[ipv6] sys-apps/iproute2[ipv6] sys-fs/fuse:* sys-fs/lxcfs sys-fs/squashfs-tools[lzma] virtual/acl\u0026#34;, \u0026#34;depend\u0026#34;: \u0026#34;app-arch/xz-utils app-arch/lz4 \u0026gt;=app-emulation/lxc-4.0.6 dev-lang/tcl dev-libs/libuv dev-libs/lzo \u0026gt;=dev-util/xdelta-3.0 net-dns/dnsmasq[dhcp,ipv6] sys-apps/shadow\u0026#34;, \u0026#34;requires\u0026#34;: \u0026#34;x86_64: libacl.so.1 libc.so.6 libcap.so.2 libdl.so.2 libgcc_s.so.1 liblxc.so.1 liblz4.so.1 libpthread.so.0 libsqlite3.so.0 libudev.so.1 libutil.so.1 libuv.so.1\u0026#34;, \u0026#34;keywords\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;provides\u0026#34;: \u0026#34;x86_64: libdqlite.so.0 libraft.so.3\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;232869057\u0026#34;, \u0026#34;build_time\u0026#34;: \u0026#34;1679645369\u0026#34;, \u0026#34;cbuild\u0026#34;: \u0026#34;x86_64-pc-linux-gnu\u0026#34;, ... The Portage together with the Ebuild is a very powerful tool to compile and customize packages and the OS.
I began to play with Gentoo around the year 2003 when I was a student at the Computer Science University and in one of my first job. Yet, I remember now how much time was needed to compile the kernel in a Pentium 233Mhz (if I remember correctly the model) and how much time I used to improve the old systems and yet, how much time to download tarball with a 56Kbit Analogic Line. Gentoo helped a lot with this.
Compile everything and every time could be more expensive as time and costs, it\u0026rsquo;s so in 2005 is created Sabayon Linux or Sabayon (formerly RR4 Linux and RR64 Linux), an Italian Gentoo-based Linux distribution created by Fabio Erculiani. Sabayon followed the \u0026ldquo;out of the box\u0026rdquo; philosophy, aiming to give the user a wide number of applications ready to use and a self-configured operating system.
The Sabayon\u0026rsquo;s Package Management System called Entropy, developed by Fabio Erculiani and others extends the Gentoo Portage. The Portage downloads source-code and compiles it specifically for the target system, Entropy manages binary files from servers; the binary tarball packages are precompiled using the Gentoo Linux tree using emerge (the Portage tool).
On the other side of the world, at the beginning of 2008, is created the Funtoo Linux Linux distribution based on Gentoo Linux. It was created by Daniel Robbins after that the Gentoo Foundation doesn\u0026rsquo;t want to follow the ideas proposed by Robbins.
Between battles with Solaris servers and Debian\u0026rsquo;s VMs on beginning working on supplying ready-to-use binary packages for my Clients, my colleague, and friend Walter Curtetti (aka kurtz81) shared with me a new Distribution that is based on Gentoo: Sabayon. So, in 2010, I started my interest on follow the Sabayon Team before as a Contributor and then as Developer in 2018.
In my years in Sabayon, I saw different things happen and I learn what are the areas that could be improved in a distribution and/or critical:
The Sabayon\u0026rsquo;s Packages Manager is written in Python and every time a new release of Python (for example from 3.6 to 3.7) was upgraded it was needed to support both releases for a bit of time and then to drop the previous to do an upgrade safe.
The big change in converting the /lib from a link to a directory it\u0026rsquo;s been a disaster, but it\u0026rsquo;s funny now to see the new SystemD release now prefers the old way with /lib and /usr/lib as links.
The pros to having Entropy as an extension of the Portage are fewer of the cons when Gentoo had to begin to do changes to the Portage that was not so easy to integrate with a code old to rewrite.
Supply a way for users to build additional packages through the SARK engine was really difficult because the Portage tree changes so fastly that was injected often dependencies that were for the sabayon core repository. We have tried with a Portage tree fixed to a specific Git Hash but also in this case sometimes wasn\u0026rsquo;t sufficient.
Entropy doesn\u0026rsquo;t handle correctly a reboot of a repository or only with forcing the sync of the repository.
With these words I don\u0026rsquo;t want to say that Entropy was bad, instead, it\u0026rsquo;s been a good product but without good maintenance of the code, it becomes slowly obsolete and too hard to fix.
After years, what is been an important element for the change is been following a path where the PMS was statically linked, without dependencies to other elements of the system that could be a problem in the upgrade phase. And so, in 2019/2020, this idea became real through a tool written in Golang: and it that born the luet project. With the release of the first versions, we have decided to a rebranding with the name Mocaccino OS.
The luet project was born to be a tool that is no more strictly connected to a specific compilation engine, thanks to the experience had with Entropy, but also free to use existing compilation systems without losing the prons. To reach this target it uses primarily Docker containers and this ensures reproducibility and isolation. Thanks to this independence, luet can be used to supply generic binary from every distributions.
The second big problem to resolve is been to have a more managed environment where builds and upgrades packages at the same time in a way independent but more controlled. It\u0026rsquo;s here that I began to work with integration between Mocaccino and Funtoo because it seems to me a better solution than Gentoo for our targets. I really appreciate the separation done by Funtoo in Kits and the use of branches to separate the big changes and personally, I think that these are been a very good choice by Daniel Robbins.
This integration starts my collaboration with Daniel Robbins and the announcement of the joining between Sabayon and Funtoo to work together.
Thanks to the support of Daniel Robbins, the reposcan tool was borns inside the metatools project to help in this integration. The reposcan tool generates the JSON files with the Portage metadata of every kit, these files are then used by the luet-portage-converter tool to generate the luet specs used for build packages.
The luet-portage-converter tool uses the reposcan files to calculate the build dependencies like the runtime dependencies based on the USE flags defined in its specs and then executes simplification stages to reduce the dependencies complexity. For example, if dependency A is an RDEPEND of the package B and C and package C has also a dependency to B, then we could avoid adding A as a dependency of C because is already injected by B.
Macaroni OS Era begins # In the middle of all this, at some point, my ideas about proceeding and changing luet, to continue the Funtoo integration, and with the Mocaccino Desktop release begins to be considered wrong and not accepted. In December 2021, I left the Sabayon/Mocaccino Team and create the Macaroni OS Project with the precious support of Daniel Robbins that help me bootstrap the domain macaroni.funtoo.org under the Funtoo umbrella.
In January 2023, I buy the domain macaronios.org and create the Github project macaroni-os so that the Macaroni OS became an independent project always strictly related to the Funtoo Community.
I want to thank every people that this long story is been part of it, in the bad and in the good, without you all of this will not be present. Good luck and good life to all of you.
And so, this is the begin\u0026hellip;
`})})()